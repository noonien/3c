var Vs=Object.defineProperty,Ns=Object.defineProperties;var Ss=Object.getOwnPropertyDescriptors;var cs=Object.getOwnPropertySymbols;var Os=Object.prototype.hasOwnProperty,Ms=Object.prototype.propertyIsEnumerable;var fs=(t,o,a)=>o in t?Vs(t,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[o]=a,_s=(t,o)=>{for(var a in o||(o={}))Os.call(o,a)&&fs(t,a,o[a]);if(cs)for(var a of cs(o))Ms.call(o,a)&&fs(t,a,o[a]);return t},vs=(t,o)=>Ns(t,Ss(o));import{S as qs,i as As,s as Us,e as s,t as i,c as n,a as f,g as u,d as c,f as q,E as e,h as S,k as v,n as p,b as l,l as ps,J as $l,K as ds,L as hs,M,N as bs,O as Ra,P as O,Q as Qt,R as j,I as ms,T as yt,U as Tt,V as ws,W as Va}from"../chunks/vendor-203876ed.js";function gs(t,o,a){let h=localStorage.getItem(t);if(h!=null){let g=JSON.parse(h);if(Date.now()/1e3-g.date<o)return Promise.resolve(g.data)}return a().then(g=>(localStorage.setItem(t,JSON.stringify({date:Date.now()/1e3,data:g})),g))}function Es(t,o,a){const h=t.slice();return h[56]=o[a],h}function ys(t,o,a){const h=t.slice();return h[56]=o[a],h}function Ts(t,o,a){const h=t.slice();return h[61]=o[a],h}function Ls(t,o,a){const h=t.slice();return h[26]=o[a],h}function Is(t){let o,a=t[26].symbol.slice(0,-4)+"",h,g,k;return{c(){o=s("option"),h=i(a),g=i(" / USDT"),this.h()},l(D){o=n(D,"OPTION",{});var b=f(o);h=u(b,a),g=u(b," / USDT"),b.forEach(c),this.h()},h(){o.__value=k=t[26].symbol,o.value=o.__value},m(D,b){q(D,o,b),e(o,h),e(o,g)},p(D,b){b[0]&1&&a!==(a=D[26].symbol.slice(0,-4)+"")&&S(h,a),b[0]&1&&k!==(k=D[26].symbol)&&(o.__value=k,o.value=o.__value)},d(D){D&&c(o)}}}function ks(t){let o,a,h=t[8]*t[13].value/100+"",g,k,D;return{c(){o=s("div"),a=i("Value: "),g=i(h),k=v(),D=i(Ye),this.h()},l(b){o=n(b,"DIV",{class:!0});var y=f(o);a=u(y,"Value: "),g=u(y,h),k=p(y),D=u(y,Ye),y.forEach(c),this.h()},h(){l(o,"class","font-bold")},m(b,y){q(b,o,y),e(o,a),e(o,g),e(o,k),e(o,D)},p(b,y){y[0]&8448&&h!==(h=b[8]*b[13].value/100+"")&&S(g,h)},d(b){b&&c(o)}}}function Ds(t){let o,a,h=t[8]*t[12].value/100+"",g,k,D;return{c(){o=s("div"),a=i("Value: "),g=i(h),k=v(),D=i(Ye),this.h()},l(b){o=n(b,"DIV",{class:!0});var y=f(o);a=u(y,"Value: "),g=u(y,h),k=p(y),D=u(y,Ye),y.forEach(c),this.h()},h(){l(o,"class","font-bold")},m(b,y){q(b,o,y),e(o,a),e(o,g),e(o,k),e(o,D)},p(b,y){y[0]&4352&&h!==(h=b[8]*b[12].value/100+"")&&S(g,h)},d(b){b&&c(o)}}}function zs(t){let o=t[61]+"",a,h;return{c(){a=i(o),h=s("br")},l(g){a=u(g,o),h=n(g,"BR",{})},m(g,k){q(g,a,k),q(g,h,k)},p(g,k){k[0]&98304&&o!==(o=g[61]+"")&&S(a,o)},d(g){g&&c(a),g&&c(h)}}}function Ps(t){let o,a=t[56].order+"",h,g,k,D,b,y=t[56].errors,N=[];for(let d=0;d<y.length;d+=1)N[d]=zs(Ts(t,y,d));return{c(){o=i("Order: "),h=i(a),g=v(),k=s("br"),D=v();for(let d=0;d<N.length;d+=1)N[d].c();b=ps()},l(d){o=u(d,"Order: "),h=u(d,a),g=p(d),k=n(d,"BR",{}),D=p(d);for(let P=0;P<N.length;P+=1)N[P].l(d);b=ps()},m(d,P){q(d,o,P),q(d,h,P),q(d,g,P),q(d,k,P),q(d,D,P);for(let L=0;L<N.length;L+=1)N[L].m(d,P);q(d,b,P)},p(d,P){if(P[0]&98304&&a!==(a=d[56].order+"")&&S(h,a),P[0]&98304){y=d[56].errors;let L;for(L=0;L<y.length;L+=1){const A=Ts(d,y,L);N[L]?N[L].p(A,P):(N[L]=zs(A),N[L].c(),N[L].m(b.parentNode,b))}for(;L<N.length;L+=1)N[L].d(1);N.length=y.length}},d(d){d&&c(o),d&&c(h),d&&c(g),d&&c(k),d&&c(D),$l(N,d),d&&c(b)}}}function Bs(t){let o,a,h=t[56].order+"",g,k,D,b=T(t[56].price_dev)+"",y,N,d=T(t[56].price)+"",P,L,A,J,ae=-T((1-t[56].avg_price/t[1])*100)+"",x,Q,Te=T(t[56].avg_price)+"",se,U,Fe,C,ee=T(t[56].req_price)+"",X,Le,te=T(t[56].req_change)+"",Ie,tt,H=T(t[56].tp)+"",pe,at,we,W,Y=T(t[56].volume)+"",ke,De,F=T(t[56].margin)+"",de,st,ge,ze,Ge=T(t[56].pnl)+"",lt,ie,Pe,he,Xe=T(t[56].total_volume)+"",be,ne,Ze=T(t[56].total_margin)+"",Ce,le,Ee,nt,Be;function Lt(){return t[52](t[56])}return{c(){o=s("tr"),a=s("td"),g=i(h),k=v(),D=s("td"),y=i(b),N=i("% ($"),P=i(d),L=i(")"),A=v(),J=s("td"),x=i(ae),Q=i("% ($"),se=i(Te),U=i(")"),Fe=v(),C=s("td"),X=i(ee),Le=i("$ ("),Ie=i(te),tt=i("%) / +"),pe=i(H),at=i("$"),we=v(),W=s("td"),ke=i(Y),De=i("$ ($"),de=i(F),st=i(")"),ge=v(),ze=s("td"),lt=i(Ge),ie=i("$"),Pe=v(),he=s("td"),be=i(Xe),ne=i("$ ("),Ce=i(Ze),le=i("$)"),Ee=v(),this.h()},l(Re){o=n(Re,"TR",{class:!0});var R=f(o);a=n(R,"TD",{class:!0});var I=f(a);g=u(I,h),I.forEach(c),k=p(R),D=n(R,"TD",{class:!0});var w=f(D);y=u(w,b),N=u(w,"% ($"),P=u(w,d),L=u(w,")"),w.forEach(c),A=p(R),J=n(R,"TD",{class:!0});var K=f(J);x=u(K,ae),Q=u(K,"% ($"),se=u(K,Te),U=u(K,")"),K.forEach(c),Fe=p(R),C=n(R,"TD",{style:!0,class:!0});var G=f(C);X=u(G,ee),Le=u(G,"$ ("),Ie=u(G,te),tt=u(G,"%) / +"),pe=u(G,H),at=u(G,"$"),G.forEach(c),we=p(R),W=n(R,"TD",{class:!0});var Z=f(W);ke=u(Z,Y),De=u(Z,"$ ($"),de=u(Z,F),st=u(Z,")"),Z.forEach(c),ge=p(R),ze=n(R,"TD",{class:!0});var B=f(ze);lt=u(B,Ge),ie=u(B,"$"),B.forEach(c),Pe=p(R),he=n(R,"TD",{class:!0});var $=f(he);be=u($,Xe),ne=u($,"$ ("),Ce=u($,Ze),le=u($,"$)"),$.forEach(c),Ee=p(R),R.forEach(c),this.h()},h(){l(a,"class","svelte-zftrlb"),l(D,"class","svelte-zftrlb"),l(J,"class","svelte-zftrlb"),ds(C,"background-color",t[56].errors.length>0?"":Rs((t[56].req_change-t[4])/(t[5]-t[4]),.3,t[25])),l(C,"class","svelte-zftrlb"),l(W,"class","svelte-zftrlb"),l(ze,"class","svelte-zftrlb"),l(he,"class","svelte-zftrlb"),l(o,"class","svelte-zftrlb"),hs(o,"liquidated",t[56].errors.length>0)},m(Re,R){q(Re,o,R),e(o,a),e(a,g),e(o,k),e(o,D),e(D,y),e(D,N),e(D,P),e(D,L),e(o,A),e(o,J),e(J,x),e(J,Q),e(J,se),e(J,U),e(o,Fe),e(o,C),e(C,X),e(C,Le),e(C,Ie),e(C,tt),e(C,pe),e(C,at),e(o,we),e(o,W),e(W,ke),e(W,De),e(W,de),e(W,st),e(o,ge),e(o,ze),e(ze,lt),e(ze,ie),e(o,Pe),e(o,he),e(he,be),e(he,ne),e(he,Ce),e(he,le),e(o,Ee),nt||(Be=[M(o,"mouseenter",Lt),M(o,"mouseleave",t[53])],nt=!0)},p(Re,R){t=Re,R[0]&8&&h!==(h=t[56].order+"")&&S(g,h),R[0]&8&&b!==(b=T(t[56].price_dev)+"")&&S(y,b),R[0]&8&&d!==(d=T(t[56].price)+"")&&S(P,d),R[0]&10&&ae!==(ae=-T((1-t[56].avg_price/t[1])*100)+"")&&S(x,ae),R[0]&8&&Te!==(Te=T(t[56].avg_price)+"")&&S(se,Te),R[0]&8&&ee!==(ee=T(t[56].req_price)+"")&&S(X,ee),R[0]&8&&te!==(te=T(t[56].req_change)+"")&&S(Ie,te),R[0]&8&&H!==(H=T(t[56].tp)+"")&&S(pe,H),R[0]&56&&ds(C,"background-color",t[56].errors.length>0?"":Rs((t[56].req_change-t[4])/(t[5]-t[4]),.3,t[25])),R[0]&8&&Y!==(Y=T(t[56].volume)+"")&&S(ke,Y),R[0]&8&&F!==(F=T(t[56].margin)+"")&&S(de,F),R[0]&8&&Ge!==(Ge=T(t[56].pnl)+"")&&S(lt,Ge),R[0]&8&&Xe!==(Xe=T(t[56].total_volume)+"")&&S(be,Xe),R[0]&8&&Ze!==(Ze=T(t[56].total_margin)+"")&&S(Ce,Ze),R[0]&8&&hs(o,"liquidated",t[56].errors.length>0)},d(Re){Re&&c(o),nt=!1,bs(Be)}}}function Cs(t){let o,a,h,g,k,D,b,y,N,d,P,L,A,J,ae,x,Q,Te,se,U,Fe,C,ee,X,Le,te,Ie,tt,H,pe,at,we,W,Y,ke,De,F,de,st,ge,ze,Ge,lt,ie,Pe,he,Xe,be,ne,Ze,Ce,le,Ee,nt,Be,Lt,Re,R,I,w,K,G,Z,B,$,me,ct,ot,Ve,re,Ne,ft,it,He,It,Yt,$e,Se,Ft,xl,_t,We,er,xe,tr,vt,kt,lr,rr,pt,Oe,ul,ar,je,cl,sr,dt,Dt,nr,or,rt,Me,ir,Je,ur,Rt,cr,fr,ht,zt,_r,vr,bt,qe,pr,Ke,dr,mt,Pt,hr,br,gt,Ae,mr,Qe,gr,m,Er,yr,Tr,Gt=T(t[2].total_margin)+"",fl,Lr,Xt=T(t[2].total_margin/t[8]*100)+"",_l,Ir,kr,Dr,Zt=T(t[2].total_volume)+"",vl,zr,Pr,Br,$t=T(t[11])+"",pl,Rr,Vr,Nr,xt=T(t[2].price_dev)+"",dl,Sr,Or,Mr,qr,Ar,Ur,wr,Cr,Hr,el=T(t[2].total_margin)+"",hl,Wr,jr,Jr,tl=T(-t[2].pnl)+"",bl,Kr,Qr,Yr,ll=T(t[8]-t[2].total_margin+t[2].pnl)+"",ml,Fr,Gr,Xr,rl=T(t[14])+"",gl,Zr,$r,xr,al=-T(100-t[14]/t[1]*100)+"",El,ea,ta,la,sl=-T(100-t[14]/t[1]*100+t[2].price_dev)+"",yl,ra,aa,sa,na,oa,nl=T(t[4])+"",Tl,ia,ua,ca,ol=T(t[5])+"",Ll,fa,Il,kl,Dl,ut,zl,Pl,Bl,Rl,Vl,Vt,Nl,Sl,Et,il,oe,Nt,_a,va,St,pa,da,Ot,ha,ba,Mt,ma,ga,qt,Ea,ya,At,Ta,La,Ut,Ia,ka,wt,Da,Na,Ct=t[0],ue=[];for(let r=0;r<Ct.length;r+=1)ue[r]=Is(Ls(t,Ct,r));let ce=t[13].type=="%"&&ks(t),fe=t[12].type=="%"&&Ds(t),Ht=t[15]?[t[16]||t[15]]:[],_e=[];for(let r=0;r<Ht.length;r+=1)_e[r]=Ps(ys(t,Ht,r));let Wt=t[3],ve=[];for(let r=0;r<Wt.length;r+=1)ve[r]=Bs(Es(t,Wt,r));return{c(){o=s("div"),a=s("div"),h=s("div"),g=s("label"),k=i("Wallet Balance"),D=v(),b=s("div"),y=s("input"),N=v(),d=s("span"),P=i(Ye),L=v(),A=s("div"),J=s("label"),ae=i("Coin"),x=v(),Q=s("select");for(let r=0;r<ue.length;r+=1)ue[r].c();Te=v(),se=s("div"),U=s("label"),Fe=i("Entry Price"),C=v(),ee=s("div"),X=s("input"),Le=v(),te=s("span"),Ie=i(Ye),tt=v(),H=s("div"),pe=s("label"),at=i("Base Order size"),we=v(),W=s("div"),Y=s("input"),ke=v(),De=s("div"),F=s("select"),de=s("option"),st=i("%"),ge=s("option"),ze=i(Ye),Ge=v(),ce&&ce.c(),lt=v(),ie=s("div"),Pe=s("label"),he=i("Safety Order size"),Xe=v(),be=s("div"),ne=s("input"),Ze=v(),Ce=s("div"),le=s("select"),Ee=s("option"),nt=i("%"),Be=s("option"),Lt=i(Ye),Re=v(),fe&&fe.c(),R=v(),I=s("div"),w=s("label"),K=i("Take Profit"),G=v(),Z=s("div"),B=s("input"),$=v(),me=s("span"),ct=i("%"),ot=v(),Ve=s("div"),re=s("label"),Ne=i("Long or short"),ft=v(),it=s("div"),He=s("input"),It=i(`
        Long`),Yt=v(),$e=s("div"),Se=s("label"),Ft=i("Max safety trades count"),xl=v(),_t=s("div"),We=s("input"),er=v(),xe=s("input"),tr=v(),vt=s("div"),kt=s("label"),lr=i("Leverage"),rr=v(),pt=s("div"),Oe=s("input"),ar=v(),je=s("input"),sr=v(),dt=s("div"),Dt=s("label"),nr=i("Price deviation to open safety orders"),or=v(),rt=s("div"),Me=s("input"),ir=v(),Je=s("input"),ur=v(),Rt=s("span"),cr=i("%"),fr=v(),ht=s("div"),zt=s("label"),_r=i("Safety order volume scale"),vr=v(),bt=s("div"),qe=s("input"),pr=v(),Ke=s("input"),dr=v(),mt=s("div"),Pt=s("label"),hr=i("Safety order step scale"),br=v(),gt=s("div"),Ae=s("input"),mr=v(),Qe=s("input"),gr=v(),m=s("div"),Er=i(`Bot info:
    `),yr=s("br"),Tr=i(`
    Max amount for bot usage: `),fl=i(Gt),Lr=i("$ ("),_l=i(Xt),Ir=i(`%)
    `),kr=s("br"),Dr=i(`
    Max deal volume: `),vl=i(Zt),zr=i(`$
    `),Pr=s("br"),Br=i(`
    Leverage: `),pl=i($t),Rr=v(),Vr=s("br"),Nr=i(`
    Max. safe order price deviation: `),dl=i(xt),Sr=i(`%

    `),Or=s("br"),Mr=v(),qr=s("br"),Ar=v(),Ur=s("br"),wr=i(`

    Recommended Min. Wallet balance:
    `),Cr=s("br"),Hr=i(`
    Max amount for bot usage: `),hl=i(el),Wr=i(`$
    `),jr=s("br"),Jr=i(`
    Wallet reserve: `),bl=i(tl),Kr=i(`$
    `),Qr=s("br"),Yr=i(`
    Additional Reserve: `),ml=i(ll),Fr=i(`$
    `),Gr=s("br"),Xr=i(`
    Liquidation at price: `),gl=i(rl),Zr=v(),$r=s("br"),xr=i(`
    Drop from entry: `),El=i(al),ea=i(`%
    `),ta=s("br"),la=i(`
    Drop from last SO: `),yl=i(sl),ra=i(`%
    `),aa=s("br"),sa=v(),na=s("br"),oa=i(`
    Min Required Change:: `),Tl=i(nl),ia=i(`%
    `),ua=s("br"),ca=i(`
    Max Required Change:: `),Ll=i(ol),fa=i("%"),Il=v(),kl=s("br"),Dl=i(`
Reverse: `),ut=s("input"),zl=v(),Pl=s("br"),Bl=v(),Rl=s("br"),Vl=v();for(let r=0;r<_e.length;r+=1)_e[r].c();Vt=v(),Nl=s("br"),Sl=v(),Et=s("table"),il=s("thead"),oe=s("tr"),Nt=s("th"),_a=i("Order #"),va=v(),St=s("th"),pa=i("Price Dev."),da=v(),Ot=s("th"),ha=i("Avg. Price"),ba=v(),Mt=s("th"),ma=i("Required price / Profit"),ga=v(),qt=s("th"),Ea=i("Order Size (Margin)"),ya=v(),At=s("th"),Ta=i("PnL"),La=v(),Ut=s("th"),Ia=i("Total Volume (Margin)"),ka=v(),wt=s("tbody");for(let r=0;r<ve.length;r+=1)ve[r].c();this.h()},l(r){o=n(r,"DIV",{class:!0});var _=f(o);a=n(_,"DIV",{class:!0});var V=f(a);h=n(V,"DIV",{});var Bt=f(h);g=n(Bt,"LABEL",{for:!0,class:!0});var z=f(g);k=u(z,"Wallet Balance"),z.forEach(c),D=p(Bt),b=n(Bt,"DIV",{class:!0});var Ue=f(b);y=n(Ue,"INPUT",{type:!0,name:!0,step:!0,class:!0}),N=p(Ue),d=n(Ue,"SPAN",{class:!0});var Sa=f(d);P=u(Sa,Ye),Sa.forEach(c),Ue.forEach(c),Bt.forEach(c),L=p(V),A=n(V,"DIV",{});var Ol=f(A);J=n(Ol,"LABEL",{for:!0,class:!0});var Oa=f(J);ae=u(Oa,"Coin"),Oa.forEach(c),x=p(Ol),Q=n(Ol,"SELECT",{name:!0,class:!0});var Ma=f(Q);for(let et=0;et<ue.length;et+=1)ue[et].l(Ma);Ma.forEach(c),Ol.forEach(c),Te=p(V),se=n(V,"DIV",{});var Ml=f(se);U=n(Ml,"LABEL",{for:!0,class:!0});var qa=f(U);Fe=u(qa,"Entry Price"),qa.forEach(c),C=p(Ml),ee=n(Ml,"DIV",{class:!0});var ql=f(ee);X=n(ql,"INPUT",{type:!0,name:!0,class:!0}),Le=p(ql),te=n(ql,"SPAN",{class:!0});var Aa=f(te);Ie=u(Aa,Ye),Aa.forEach(c),ql.forEach(c),Ml.forEach(c),tt=p(V),H=n(V,"DIV",{});var jt=f(H);pe=n(jt,"LABEL",{for:!0,class:!0});var Ua=f(pe);at=u(Ua,"Base Order size"),Ua.forEach(c),we=p(jt),W=n(jt,"DIV",{class:!0});var Al=f(W);Y=n(Al,"INPUT",{type:!0,name:!0,step:!0,class:!0}),ke=p(Al),De=n(Al,"DIV",{});var wa=f(De);F=n(wa,"SELECT",{name:!0,class:!0});var za=f(F);de=n(za,"OPTION",{});var Ca=f(de);st=u(Ca,"%"),Ca.forEach(c),ge=n(za,"OPTION",{});var Ha=f(ge);ze=u(Ha,Ye),Ha.forEach(c),za.forEach(c),wa.forEach(c),Al.forEach(c),Ge=p(jt),ce&&ce.l(jt),jt.forEach(c),lt=p(V),ie=n(V,"DIV",{});var Jt=f(ie);Pe=n(Jt,"LABEL",{for:!0,class:!0});var Wa=f(Pe);he=u(Wa,"Safety Order size"),Wa.forEach(c),Xe=p(Jt),be=n(Jt,"DIV",{class:!0});var Ul=f(be);ne=n(Ul,"INPUT",{type:!0,name:!0,step:!0,class:!0}),Ze=p(Ul),Ce=n(Ul,"DIV",{});var ja=f(Ce);le=n(ja,"SELECT",{name:!0,class:!0});var Pa=f(le);Ee=n(Pa,"OPTION",{});var Ja=f(Ee);nt=u(Ja,"%"),Ja.forEach(c),Be=n(Pa,"OPTION",{});var Ka=f(Be);Lt=u(Ka,Ye),Ka.forEach(c),Pa.forEach(c),ja.forEach(c),Ul.forEach(c),Re=p(Jt),fe&&fe.l(Jt),Jt.forEach(c),R=p(V),I=n(V,"DIV",{});var wl=f(I);w=n(wl,"LABEL",{for:!0,class:!0});var Qa=f(w);K=u(Qa,"Take Profit"),Qa.forEach(c),G=p(wl),Z=n(wl,"DIV",{class:!0});var Cl=f(Z);B=n(Cl,"INPUT",{type:!0,name:!0,min:!0,max:!0,step:!0,class:!0}),$=p(Cl),me=n(Cl,"SPAN",{class:!0});var Ya=f(me);ct=u(Ya,"%"),Ya.forEach(c),Cl.forEach(c),wl.forEach(c),ot=p(V),Ve=n(V,"DIV",{});var Hl=f(Ve);re=n(Hl,"LABEL",{for:!0,class:!0});var Fa=f(re);Ne=u(Fa,"Long or short"),Fa.forEach(c),ft=p(Hl),it=n(Hl,"DIV",{class:!0});var Ba=f(it);He=n(Ba,"INPUT",{type:!0,name:!0,class:!0}),It=u(Ba,`
        Long`),Ba.forEach(c),Hl.forEach(c),Yt=p(V),$e=n(V,"DIV",{class:!0});var Wl=f($e);Se=n(Wl,"LABEL",{for:!0,class:!0});var Ga=f(Se);Ft=u(Ga,"Max safety trades count"),Ga.forEach(c),xl=p(Wl),_t=n(Wl,"DIV",{class:!0});var jl=f(_t);We=n(jl,"INPUT",{name:!0,type:!0,class:!0,min:!0,max:!0}),er=p(jl),xe=n(jl,"INPUT",{type:!0,min:!0,max:!0,class:!0}),jl.forEach(c),Wl.forEach(c),tr=p(V),vt=n(V,"DIV",{class:!0});var Jl=f(vt);kt=n(Jl,"LABEL",{for:!0,class:!0});var Xa=f(kt);lr=u(Xa,"Leverage"),Xa.forEach(c),rr=p(Jl),pt=n(Jl,"DIV",{class:!0});var Kl=f(pt);Oe=n(Kl,"INPUT",{name:!0,type:!0,class:!0,min:!0,max:!0}),ar=p(Kl),je=n(Kl,"INPUT",{type:!0,min:!0,max:!0,class:!0}),Kl.forEach(c),Jl.forEach(c),sr=p(V),dt=n(V,"DIV",{class:!0});var Ql=f(dt);Dt=n(Ql,"LABEL",{for:!0,class:!0});var Za=f(Dt);nr=u(Za,"Price deviation to open safety orders"),Za.forEach(c),or=p(Ql),rt=n(Ql,"DIV",{class:!0});var Kt=f(rt);Me=n(Kt,"INPUT",{name:!0,type:!0,class:!0,min:!0,max:!0,step:!0}),ir=p(Kt),Je=n(Kt,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),ur=p(Kt),Rt=n(Kt,"SPAN",{class:!0});var $a=f(Rt);cr=u($a,"%"),$a.forEach(c),Kt.forEach(c),Ql.forEach(c),fr=p(V),ht=n(V,"DIV",{class:!0});var Yl=f(ht);zt=n(Yl,"LABEL",{for:!0,class:!0});var xa=f(zt);_r=u(xa,"Safety order volume scale"),xa.forEach(c),vr=p(Yl),bt=n(Yl,"DIV",{class:!0});var Fl=f(bt);qe=n(Fl,"INPUT",{name:!0,type:!0,class:!0,min:!0,max:!0,step:!0}),pr=p(Fl),Ke=n(Fl,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),Fl.forEach(c),Yl.forEach(c),dr=p(V),mt=n(V,"DIV",{class:!0});var Gl=f(mt);Pt=n(Gl,"LABEL",{for:!0,class:!0});var es=f(Pt);hr=u(es,"Safety order step scale"),es.forEach(c),br=p(Gl),gt=n(Gl,"DIV",{class:!0});var Xl=f(gt);Ae=n(Xl,"INPUT",{name:!0,type:!0,class:!0,min:!0,max:!0,step:!0}),mr=p(Xl),Qe=n(Xl,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),Xl.forEach(c),Gl.forEach(c),V.forEach(c),gr=p(_),m=n(_,"DIV",{});var E=f(m);Er=u(E,`Bot info:
    `),yr=n(E,"BR",{}),Tr=u(E,`
    Max amount for bot usage: `),fl=u(E,Gt),Lr=u(E,"$ ("),_l=u(E,Xt),Ir=u(E,`%)
    `),kr=n(E,"BR",{}),Dr=u(E,`
    Max deal volume: `),vl=u(E,Zt),zr=u(E,`$
    `),Pr=n(E,"BR",{}),Br=u(E,`
    Leverage: `),pl=u(E,$t),Rr=p(E),Vr=n(E,"BR",{}),Nr=u(E,`
    Max. safe order price deviation: `),dl=u(E,xt),Sr=u(E,`%

    `),Or=n(E,"BR",{}),Mr=p(E),qr=n(E,"BR",{}),Ar=p(E),Ur=n(E,"BR",{}),wr=u(E,`

    Recommended Min. Wallet balance:
    `),Cr=n(E,"BR",{}),Hr=u(E,`
    Max amount for bot usage: `),hl=u(E,el),Wr=u(E,`$
    `),jr=n(E,"BR",{}),Jr=u(E,`
    Wallet reserve: `),bl=u(E,tl),Kr=u(E,`$
    `),Qr=n(E,"BR",{}),Yr=u(E,`
    Additional Reserve: `),ml=u(E,ll),Fr=u(E,`$
    `),Gr=n(E,"BR",{}),Xr=u(E,`
    Liquidation at price: `),gl=u(E,rl),Zr=p(E),$r=n(E,"BR",{}),xr=u(E,`
    Drop from entry: `),El=u(E,al),ea=u(E,`%
    `),ta=n(E,"BR",{}),la=u(E,`
    Drop from last SO: `),yl=u(E,sl),ra=u(E,`%
    `),aa=n(E,"BR",{}),sa=p(E),na=n(E,"BR",{}),oa=u(E,`
    Min Required Change:: `),Tl=u(E,nl),ia=u(E,`%
    `),ua=n(E,"BR",{}),ca=u(E,`
    Max Required Change:: `),Ll=u(E,ol),fa=u(E,"%"),E.forEach(c),_.forEach(c),Il=p(r),kl=n(r,"BR",{}),Dl=u(r,`
Reverse: `),ut=n(r,"INPUT",{type:!0,class:!0}),zl=p(r),Pl=n(r,"BR",{}),Bl=p(r),Rl=n(r,"BR",{}),Vl=p(r);for(let et=0;et<_e.length;et+=1)_e[et].l(r);Vt=p(r),Nl=n(r,"BR",{}),Sl=p(r),Et=n(r,"TABLE",{});var Zl=f(Et);il=n(Zl,"THEAD",{});var ts=f(il);oe=n(ts,"TR",{});var ye=f(oe);Nt=n(ye,"TH",{class:!0});var ls=f(Nt);_a=u(ls,"Order #"),ls.forEach(c),va=p(ye),St=n(ye,"TH",{class:!0});var rs=f(St);pa=u(rs,"Price Dev."),rs.forEach(c),da=p(ye),Ot=n(ye,"TH",{class:!0});var as=f(Ot);ha=u(as,"Avg. Price"),as.forEach(c),ba=p(ye),Mt=n(ye,"TH",{class:!0});var ss=f(Mt);ma=u(ss,"Required price / Profit"),ss.forEach(c),ga=p(ye),qt=n(ye,"TH",{class:!0});var ns=f(qt);Ea=u(ns,"Order Size (Margin)"),ns.forEach(c),ya=p(ye),At=n(ye,"TH",{class:!0});var os=f(At);Ta=u(os,"PnL"),os.forEach(c),La=p(ye),Ut=n(ye,"TH",{class:!0});var is=f(Ut);Ia=u(is,"Total Volume (Margin)"),is.forEach(c),ye.forEach(c),ts.forEach(c),ka=p(Zl),wt=n(Zl,"TBODY",{});var us=f(wt);for(let et=0;et<ve.length;et+=1)ve[et].l(us);us.forEach(c),Zl.forEach(c),this.h()},h(){var r,_;l(g,"for","balance"),l(g,"class","block mb-1"),l(y,"type","number"),l(y,"name","balance"),l(y,"step","10"),l(y,"class","svelte-zftrlb"),l(d,"class","px-4 py-2 border border-l-0 border-gray-500 bg-gray-700"),l(b,"class","flex"),l(J,"for","coin"),l(J,"class","block mb-1"),l(Q,"name","coin"),l(Q,"class","focus:ring-indigo-500 focus:border-indigo-500 bg-gray-900 block w-full"),t[7]===void 0&&Ra(()=>t[33].call(Q)),l(U,"for","entry_price"),l(U,"class","block mb-1"),l(X,"type","text"),l(X,"name","entry_price"),l(X,"class","svelte-zftrlb"),l(te,"class","px-4 py-2 border border-l-0 border-gray-500 bg-gray-700"),l(ee,"class","flex"),l(pe,"for","bo_size"),l(pe,"class","block mb-1"),l(Y,"type","number"),l(Y,"name","bo_size"),l(Y,"step","0.01"),l(Y,"class","svelte-zftrlb"),de.__value="%",de.value=de.__value,ge.__value="price",ge.value=ge.__value,l(F,"name","$base_order_type"),l(F,"class","focus:ring-indigo-500 focus:border-indigo-500 bg-gray-700"),t[13].type===void 0&&Ra(()=>t[36].call(F)),l(W,"class","flex"),l(Pe,"for","so_size"),l(Pe,"class","block mb-1"),l(ne,"type","number"),l(ne,"name","so_size"),l(ne,"step","0.01"),l(ne,"class","svelte-zftrlb"),Ee.__value="%",Ee.value=Ee.__value,Be.__value="price",Be.value=Be.__value,l(le,"name","so_type"),l(le,"class","focus:ring-indigo-500 focus:border-indigo-500 bg-gray-700"),t[12].type===void 0&&Ra(()=>t[38].call(le)),l(be,"class","flex"),l(w,"for","take_profit"),l(w,"class","block mb-1"),l(B,"type","number"),l(B,"name","take_profit"),l(B,"min","0.05"),l(B,"max","50"),l(B,"step","0.01"),l(B,"class","svelte-zftrlb"),l(me,"class","px-4 py-2 border border-l-0 border-gray-500 bg-gray-700"),l(Z,"class","flex"),l(re,"for","long"),l(re,"class","block mb-1"),l(He,"type","checkbox"),l(He,"name","long"),l(He,"class","focus:ring-indigo-500 focus:border-indigo-500 bg-gray-900 svelte-zftrlb"),l(it,"class","flex"),l(Se,"for","max_safety_trades"),l(Se,"class","block mb-1"),l(We,"name","max_safety_trades"),l(We,"type","range"),l(We,"class","block w-full mr-3 svelte-zftrlb"),l(We,"min","0"),l(We,"max","100"),l(xe,"type","number"),l(xe,"min","0"),l(xe,"max","100"),l(xe,"class","svelte-zftrlb"),l(_t,"class","flex"),l($e,"class","col-span-3"),l(kt,"for","leverage"),l(kt,"class","block mb-1"),l(Oe,"name","leverage"),l(Oe,"type","range"),l(Oe,"class","block w-full mr-3 svelte-zftrlb"),l(Oe,"min","1"),l(Oe,"max",ul=((r=t[6][0])==null?void 0:r.maxLeverage)||20),l(je,"type","number"),l(je,"min","1"),l(je,"max",cl=((_=t[6][0])==null?void 0:_.maxLeverage)||20),l(je,"class","svelte-zftrlb"),l(pt,"class","flex"),l(vt,"class","col-span-3"),l(Dt,"for","price_deviation"),l(Dt,"class","block mb-1"),l(Me,"name","price_deviation"),l(Me,"type","range"),l(Me,"class","block w-full mr-3 svelte-zftrlb"),l(Me,"min","0.2"),l(Me,"max","12"),l(Me,"step","0.01"),l(Je,"type","number"),l(Je,"min","0.2"),l(Je,"max","12"),l(Je,"step","0.01"),l(Je,"class","svelte-zftrlb"),l(Rt,"class","px-4 py-2 border border-l-0 border-gray-500 bg-gray-700"),l(rt,"class","flex"),l(dt,"class","col-span-3"),l(zt,"for","so_volume_scale"),l(zt,"class","block mb-1"),l(qe,"name","so_volume_scale"),l(qe,"type","range"),l(qe,"class","block w-full mr-3 svelte-zftrlb"),l(qe,"min","0.1"),l(qe,"max","10"),l(qe,"step","0.01"),l(Ke,"type","number"),l(Ke,"min","0.1"),l(Ke,"max","10"),l(Ke,"step","0.01"),l(Ke,"class","svelte-zftrlb"),l(bt,"class","flex"),l(ht,"class","col-span-3"),l(Pt,"for","so_step_scale"),l(Pt,"class","block mb-1"),l(Ae,"name","so-step-scale"),l(Ae,"type","range"),l(Ae,"class","block w-full mr-3 svelte-zftrlb"),l(Ae,"min","0.1"),l(Ae,"max","10"),l(Ae,"step","0.01"),l(Qe,"type","number"),l(Qe,"min","0.1"),l(Qe,"max","5"),l(Qe,"step","0.01"),l(Qe,"class","svelte-zftrlb"),l(gt,"class","flex"),l(mt,"class","col-span-3"),l(a,"class","col-span-2 grid grid-cols-3 gap-6"),l(o,"class","grid grid-cols-3 gap-8"),l(ut,"type","checkbox"),l(ut,"class","svelte-zftrlb"),l(Nt,"class","svelte-zftrlb"),l(St,"class","svelte-zftrlb"),l(Ot,"class","svelte-zftrlb"),l(Mt,"class","svelte-zftrlb"),l(qt,"class","svelte-zftrlb"),l(At,"class","svelte-zftrlb"),l(Ut,"class","svelte-zftrlb")},m(r,_){q(r,o,_),e(o,a),e(a,h),e(h,g),e(g,k),e(h,D),e(h,b),e(b,y),O(y,t[8]),e(b,N),e(b,d),e(d,P),e(a,L),e(a,A),e(A,J),e(J,ae),e(A,x),e(A,Q);for(let V=0;V<ue.length;V+=1)ue[V].m(Q,null);Qt(Q,t[7]),e(a,Te),e(a,se),e(se,U),e(U,Fe),e(se,C),e(se,ee),e(ee,X),O(X,t[1]),e(ee,Le),e(ee,te),e(te,Ie),e(a,tt),e(a,H),e(H,pe),e(pe,at),e(H,we),e(H,W),e(W,Y),O(Y,t[13].value),e(W,ke),e(W,De),e(De,F),e(F,de),e(de,st),e(F,ge),e(ge,ze),Qt(F,t[13].type),e(H,Ge),ce&&ce.m(H,null),e(a,lt),e(a,ie),e(ie,Pe),e(Pe,he),e(ie,Xe),e(ie,be),e(be,ne),O(ne,t[12].value),e(be,Ze),e(be,Ce),e(Ce,le),e(le,Ee),e(Ee,nt),e(le,Be),e(Be,Lt),Qt(le,t[12].type),e(ie,Re),fe&&fe.m(ie,null),e(a,R),e(a,I),e(I,w),e(w,K),e(I,G),e(I,Z),e(Z,B),O(B,t[10]),e(Z,$),e(Z,me),e(me,ct),e(a,ot),e(a,Ve),e(Ve,re),e(re,Ne),e(Ve,ft),e(Ve,it),e(it,He),He.checked=t[17],e(it,It),e(a,Yt),e(a,$e),e($e,Se),e(Se,Ft),e($e,xl),e($e,_t),e(_t,We),O(We,t[12].count),e(_t,er),e(_t,xe),O(xe,t[12].count),e(a,tr),e(a,vt),e(vt,kt),e(kt,lr),e(vt,rr),e(vt,pt),e(pt,Oe),O(Oe,t[11]),e(pt,ar),e(pt,je),O(je,t[11]),e(a,sr),e(a,dt),e(dt,Dt),e(Dt,nr),e(dt,or),e(dt,rt),e(rt,Me),O(Me,t[12].price_dev),e(rt,ir),e(rt,Je),O(Je,t[12].price_dev),e(rt,ur),e(rt,Rt),e(Rt,cr),e(a,fr),e(a,ht),e(ht,zt),e(zt,_r),e(ht,vr),e(ht,bt),e(bt,qe),O(qe,t[12].volume_scale),e(bt,pr),e(bt,Ke),O(Ke,t[12].volume_scale),e(a,dr),e(a,mt),e(mt,Pt),e(Pt,hr),e(mt,br),e(mt,gt),e(gt,Ae),O(Ae,t[12].step_scale),e(gt,mr),e(gt,Qe),O(Qe,t[12].step_scale),e(o,gr),e(o,m),e(m,Er),e(m,yr),e(m,Tr),e(m,fl),e(m,Lr),e(m,_l),e(m,Ir),e(m,kr),e(m,Dr),e(m,vl),e(m,zr),e(m,Pr),e(m,Br),e(m,pl),e(m,Rr),e(m,Vr),e(m,Nr),e(m,dl),e(m,Sr),e(m,Or),e(m,Mr),e(m,qr),e(m,Ar),e(m,Ur),e(m,wr),e(m,Cr),e(m,Hr),e(m,hl),e(m,Wr),e(m,jr),e(m,Jr),e(m,bl),e(m,Kr),e(m,Qr),e(m,Yr),e(m,ml),e(m,Fr),e(m,Gr),e(m,Xr),e(m,gl),e(m,Zr),e(m,$r),e(m,xr),e(m,El),e(m,ea),e(m,ta),e(m,la),e(m,yl),e(m,ra),e(m,aa),e(m,sa),e(m,na),e(m,oa),e(m,Tl),e(m,ia),e(m,ua),e(m,ca),e(m,Ll),e(m,fa),q(r,Il,_),q(r,kl,_),q(r,Dl,_),q(r,ut,_),ut.checked=t[9],q(r,zl,_),q(r,Pl,_),q(r,Bl,_),q(r,Rl,_),q(r,Vl,_);for(let V=0;V<_e.length;V+=1)_e[V].m(r,_);q(r,Vt,_),q(r,Nl,_),q(r,Sl,_),q(r,Et,_),e(Et,il),e(il,oe),e(oe,Nt),e(Nt,_a),e(oe,va),e(oe,St),e(St,pa),e(oe,da),e(oe,Ot),e(Ot,ha),e(oe,ba),e(oe,Mt),e(Mt,ma),e(oe,ga),e(oe,qt),e(qt,Ea),e(oe,ya),e(oe,At),e(At,Ta),e(oe,La),e(oe,Ut),e(Ut,Ia),e(Et,ka),e(Et,wt);for(let V=0;V<ve.length;V+=1)ve[V].m(wt,null);Da||(Na=[M(y,"input",t[32]),M(Q,"change",t[33]),M(X,"input",t[34]),M(Y,"input",t[35]),M(F,"change",t[36]),M(ne,"input",t[37]),M(le,"change",t[38]),M(B,"input",t[39]),M(He,"change",t[40]),M(We,"change",t[41]),M(We,"input",t[41]),M(xe,"input",t[42]),M(Oe,"change",t[43]),M(Oe,"input",t[43]),M(je,"input",t[44]),M(Me,"change",t[45]),M(Me,"input",t[45]),M(Je,"input",t[46]),M(qe,"change",t[47]),M(qe,"input",t[47]),M(Ke,"input",t[48]),M(Ae,"change",t[49]),M(Ae,"input",t[49]),M(Qe,"input",t[50]),M(ut,"change",t[51])],Da=!0)},p(r,_){var V,Bt;if(_[0]&256&&j(y.value)!==r[8]&&O(y,r[8]),_[0]&1){Ct=r[0];let z;for(z=0;z<Ct.length;z+=1){const Ue=Ls(r,Ct,z);ue[z]?ue[z].p(Ue,_):(ue[z]=Is(Ue),ue[z].c(),ue[z].m(Q,null))}for(;z<ue.length;z+=1)ue[z].d(1);ue.length=Ct.length}if(_[0]&129&&Qt(Q,r[7]),_[0]&2&&X.value!==r[1]&&O(X,r[1]),_[0]&8192&&j(Y.value)!==r[13].value&&O(Y,r[13].value),_[0]&8192&&Qt(F,r[13].type),r[13].type=="%"?ce?ce.p(r,_):(ce=ks(r),ce.c(),ce.m(H,null)):ce&&(ce.d(1),ce=null),_[0]&4096&&j(ne.value)!==r[12].value&&O(ne,r[12].value),_[0]&4096&&Qt(le,r[12].type),r[12].type=="%"?fe?fe.p(r,_):(fe=Ds(r),fe.c(),fe.m(ie,null)):fe&&(fe.d(1),fe=null),_[0]&1024&&j(B.value)!==r[10]&&O(B,r[10]),_[0]&131072&&(He.checked=r[17]),_[0]&4096&&O(We,r[12].count),_[0]&4096&&j(xe.value)!==r[12].count&&O(xe,r[12].count),_[0]&64&&ul!==(ul=((V=r[6][0])==null?void 0:V.maxLeverage)||20)&&l(Oe,"max",ul),_[0]&2048&&O(Oe,r[11]),_[0]&64&&cl!==(cl=((Bt=r[6][0])==null?void 0:Bt.maxLeverage)||20)&&l(je,"max",cl),_[0]&2048&&j(je.value)!==r[11]&&O(je,r[11]),_[0]&4096&&O(Me,r[12].price_dev),_[0]&4096&&j(Je.value)!==r[12].price_dev&&O(Je,r[12].price_dev),_[0]&4096&&O(qe,r[12].volume_scale),_[0]&4096&&j(Ke.value)!==r[12].volume_scale&&O(Ke,r[12].volume_scale),_[0]&4096&&O(Ae,r[12].step_scale),_[0]&4096&&j(Qe.value)!==r[12].step_scale&&O(Qe,r[12].step_scale),_[0]&4&&Gt!==(Gt=T(r[2].total_margin)+"")&&S(fl,Gt),_[0]&260&&Xt!==(Xt=T(r[2].total_margin/r[8]*100)+"")&&S(_l,Xt),_[0]&4&&Zt!==(Zt=T(r[2].total_volume)+"")&&S(vl,Zt),_[0]&2048&&$t!==($t=T(r[11])+"")&&S(pl,$t),_[0]&4&&xt!==(xt=T(r[2].price_dev)+"")&&S(dl,xt),_[0]&4&&el!==(el=T(r[2].total_margin)+"")&&S(hl,el),_[0]&4&&tl!==(tl=T(-r[2].pnl)+"")&&S(bl,tl),_[0]&260&&ll!==(ll=T(r[8]-r[2].total_margin+r[2].pnl)+"")&&S(ml,ll),_[0]&16384&&rl!==(rl=T(r[14])+"")&&S(gl,rl),_[0]&16386&&al!==(al=-T(100-r[14]/r[1]*100)+"")&&S(El,al),_[0]&16390&&sl!==(sl=-T(100-r[14]/r[1]*100+r[2].price_dev)+"")&&S(yl,sl),_[0]&16&&nl!==(nl=T(r[4])+"")&&S(Tl,nl),_[0]&32&&ol!==(ol=T(r[5])+"")&&S(Ll,ol),_[0]&512&&(ut.checked=r[9]),_[0]&98304){Ht=r[15]?[r[16]||r[15]]:[];let z;for(z=0;z<Ht.length;z+=1){const Ue=ys(r,Ht,z);_e[z]?_e[z].p(Ue,_):(_e[z]=Ps(Ue),_e[z].c(),_e[z].m(Vt.parentNode,Vt))}for(;z<_e.length;z+=1)_e[z].d(1);_e.length=Ht.length}if(_[0]&33620026){Wt=r[3];let z;for(z=0;z<Wt.length;z+=1){const Ue=Es(r,Wt,z);ve[z]?ve[z].p(Ue,_):(ve[z]=Bs(Ue),ve[z].c(),ve[z].m(wt,null))}for(;z<ve.length;z+=1)ve[z].d(1);ve.length=Wt.length}},i:ms,o:ms,d(r){r&&c(o),$l(ue,r),ce&&ce.d(),fe&&fe.d(),r&&c(Il),r&&c(kl),r&&c(Dl),r&&c(ut),r&&c(zl),r&&c(Pl),r&&c(Bl),r&&c(Rl),r&&c(Vl),$l(_e,r),r&&c(Vt),r&&c(Nl),r&&c(Sl),r&&c(Et),$l(ve,r),Da=!1,bs(Na)}}}async function Js({fetch:t}){return{props:{prices:(await t("https://fapi.binance.com/fapi/v1/ticker/price").then(a=>a.json())).filter(a=>a.symbol.endsWith("USDT"))}}}let Ye="USDT";function T(t){return t.toLocaleString(void 0,{maximumSignificantDigits:5})}function Rs(t,o,a){if(t<0||t>1||t!=0&&!t)return"";const h=a.findIndex(d=>t<=d.perc)||1,g=a[h-1],k=a[h],D=(t-g.perc)/(k.perc-g.perc),b=1-D,y=D,N={r:Math.floor(g.color.r*b+k.color.r*y),g:Math.floor(g.color.g*b+k.color.g*y),b:Math.floor(g.color.b*b+k.color.b*y)};return"rgba("+[N.r,N.g,N.b,o].join(",")+")"}function Hs(t,o,a){let h,g,k,D,b,y,N,d,P,L,A,J,{prices:ae}=o,x=1;const Q=Tt("3c.balance",1e4);yt(t,Q,I=>a(8,y=I));const Te=Tt("3c.coin","BTCUSDT");yt(t,Te,I=>a(7,b=I));const se=Tt("3c.base_order",{value:10,type:"%"});yt(t,se,I=>a(13,A=I));const U=Tt("3c.safety_order",{count:15,value:5,type:"%",price_dev:.99,volume_scale:1.3,step_scale:1});yt(t,U,I=>a(12,L=I));const Fe=Tt("3c.take_profit",.6);yt(t,Fe,I=>a(10,d=I));const C=Tt("3c.leverage",20);yt(t,C,I=>a(11,P=I));const ee=Tt("3c.long",!0);yt(t,ee,I=>a(17,J=I));const X=Tt("3c.reverse",!0);yt(t,X,I=>a(9,N=I));let Le;gs("3c.rules-cache",24*60*60,()=>fetch("https://cors.bridged.cc/https://www.binance.com/en/futures/trading-rules").then(I=>I.text()).then(I=>{const w=document.createElement("html");w.innerHTML=I;const K=w.querySelectorAll("tr.rc-table-row");return Array.from(K).map(G=>{const[Z,B]=G.children[0].innerText.split(" "),[$,me]=G.children[1].innerText.split(" ");if(B=="Perpetual")return{symbol:Z,type:B,min_trade:+$,coin:me}})})).then(I=>{a(27,Le=I)});let te;gs("3c.brackets-cache",24*60*60,()=>fetch("https://cors.bridged.cc/https://www.binance.com/bapi/futures/v1/friendly/future/common/brackets",{headers:{"content-type":"application/json"},body:"{}",method:"POST"}).then(I=>I.json())).then(I=>{a(28,te=I.data.brackets.map(w=>({symbol:w.symbol,brackets:w.riskBrackets.map(K=>({volume_cap:K.bracketNotionalCap,minLeverage:K.minOpenPosLeverage,maxLeverage:K.maxOpenPosLeverage}))})))});let Ie,tt,H=[];function pe(I,w){let K=I/w,G=Math.ceil(K/h)*h;return I*=G/K,[G,I]}let at=[{perc:0,color:{r:0,g:255,b:0}},{perc:.5,color:{r:0,g:255,b:255}},{perc:1,color:{r:0,g:0,b:255}}],we=d,W=d,Y,ke="",De;function F(){y=j(this.value),Q.set(y)}function de(){b=Va(this),Te.set(b),a(0,ae)}function st(){x=this.value,a(1,x),a(7,b),a(29,ke),a(0,ae)}function ge(){A.value=j(this.value),se.set(A)}function ze(){A.type=Va(this),se.set(A)}function Ge(){L.value=j(this.value),U.set(L)}function lt(){L.type=Va(this),U.set(L)}function ie(){d=j(this.value),Fe.set(d)}function Pe(){J=this.checked,ee.set(J)}function he(){L.count=j(this.value),U.set(L)}function Xe(){L.count=j(this.value),U.set(L)}function be(){P=j(this.value),C.set(P)}function ne(){P=j(this.value),C.set(P)}function Ze(){L.price_dev=j(this.value),U.set(L)}function Ce(){L.price_dev=j(this.value),U.set(L)}function le(){L.volume_scale=j(this.value),U.set(L)}function Ee(){L.volume_scale=j(this.value),U.set(L)}function nt(){L.step_scale=j(this.value),U.set(L)}function Be(){L.step_scale=j(this.value),U.set(L)}function Lt(){N=this.checked,X.set(N)}const Re=I=>a(16,De=I.errors.length>0?I:void 0),R=()=>a(16,De=void 0);return t.$$set=I=>{"prices"in I&&a(0,ae=I.prices)},t.$$.update=()=>{var I,w,K,G,Z;if(t.$$.dirty[0]&134217856&&(h=((I=Le==null?void 0:Le.find(B=>B.symbol==b))==null?void 0:I.min_trade)||1),t.$$.dirty[0]&268435584&&a(6,g=((w=te==null?void 0:te.find(B=>B.symbol==b))==null?void 0:w.brackets)||[]),t.$$.dirty[0]&2112&&P>((K=g[0])==null?void 0:K.maxLeverage)&&ws(C,P=(G=g[0])==null?void 0:G.maxLeverage,P),t.$$.dirty[0]&2112&&a(31,k=g==null?void 0:g.find(B=>B.minLeverage<=P&&P<=B.maxLeverage)),t.$$.dirty[0]&256|t.$$.dirty[1]&1&&a(30,D=B=>{let $=[];return B.total_margin>y&&$.push(`Total margin used (${T(B.total_margin)}$) is more than available balance (${T(y)}$)`),-B.pnl>y&&$.push(`PnL (${T(B.pnl)}$) is higher than available balance (${T(y)}$). Will be liquidated`),B.total_volume>(k==null?void 0:k.volume_cap)&&$.push(`Total volume (${T(B.total_volume)}$) is higher than future volume cap (${T(k==null?void 0:k.volume_cap)}$)`),$}),t.$$.dirty[0]&536871041&&b!=ke&&(a(29,ke=b),a(1,x=((Z=ae==null?void 0:ae.find(B=>B.symbol==b))==null?void 0:Z.price)||1)),t.$$.dirty[0]&1073758014){let B=A.value;A.type=="%"&&(B=y*A.value/100);let $=L.value;L.type=="%"&&($=y*L.value/100);let me=[],ct=0,ot=x,[Ve,re]=pe(B,x);me.push({order:"BO",price_dev:0,price:x,avg_price:ot,size:Ve,margin:re/P,volume:B,req_price:x*(1+d/100),req_change:d,pnl:0,tp:re*d/100,total_size:Ve,total_volume:re,total_margin:re/P}),a(4,we=d),a(5,W=d);for(let Ne=0;Ne<L.count;Ne++){ct=ct*L.step_scale-L.price_dev;const ft=x*(1+ct/100),it=$*Math.pow(L.volume_scale,Ne),[He,It]=pe(it,ft);re+=It,Ve+=He,ot=re/Ve;const Yt=re/P,$e=ot*(1+d/100),Se=($e/ft-1)*100,Ft=-(1-ft/ot)*re;Se<we&&a(4,we=Se),Se>W&&a(5,W=Se),me.push({order:`#${Ne+1}`,price_dev:ct,price:ft,avg_price:ot,size:He,margin:It/P,volume:It,req_price:$e,req_change:Se,tp:re*d/100,pnl:Ft,total_size:Ve,total_volume:re,total_margin:Yt})}me=me.map(Ne=>vs(_s({},Ne),{errors:D(Ne)})),a(15,Y=me.find(Ne=>Ne.errors.length>0)),a(3,H=me),a(2,Ie=H[H.length-1]),N&&a(3,H=H.reverse()),a(14,tt=Ie.avg_price*(1-y/Ie.total_volume))}},[ae,x,Ie,H,we,W,g,b,y,N,d,P,L,A,tt,Y,De,J,Q,se,U,Fe,C,ee,X,at,Te,Le,te,ke,D,k,F,de,st,ge,ze,Ge,lt,ie,Pe,he,Xe,be,ne,Ze,Ce,le,Ee,nt,Be,Lt,Re,R]}class Ks extends qs{constructor(o){super();As(this,o,Hs,Cs,Us,{prices:0},null,[-1,-1,-1])}}export{Ks as default,Js as load};
