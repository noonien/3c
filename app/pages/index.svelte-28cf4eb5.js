var Un=Object.defineProperty,qn=Object.defineProperties;var Mn=Object.getOwnPropertyDescriptors;var _n=Object.getOwnPropertySymbols;var Rn=Object.prototype.hasOwnProperty,jn=Object.prototype.propertyIsEnumerable;var pn=(t,i,r)=>i in t?Un(t,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[i]=r,fn=(t,i)=>{for(var r in i||(i={}))Rn.call(i,r)&&pn(t,r,i[r]);if(_n)for(var r of _n(i))jn.call(i,r)&&pn(t,r,i[r]);return t},dn=(t,i)=>qn(t,Mn(i));import{S as zn,i as Cn,s as Hn,e as n,t as c,c as o,a as u,g as v,d as s,f as z,E as e,h as B,k as _,n as p,b as l,l as hn,J as Va,K as mn,L as j,M as bn,N as gs,O as w,P as ul,Q as H,I as gn,R as vt,T as _t,U as Wn,V as Es}from"../chunks/vendor-5d94088e.js";function En(t,i,r,d){let f=localStorage.getItem(t);if(f!=null){let h=JSON.parse(f);if(Date.now()/1e3-h.date<i||h.token==r)return Promise.resolve(h.data)}return d().then(h=>{let P=Date.now()/1e3;return localStorage.setItem(t,JSON.stringify({date:P,token:r,data:h})),h})}const In=1;function Pn(t){return`https://immense-tundra-51381.herokuapp.com/?url=${encodeURI(t)}`}function Jn(){return En("3c.cache.rules",24*60*60,In,()=>fetch(Pn("https://www.binance.com/en/futures/trading-rules")).then(t=>t.text()).then(t=>{const i=document.createElement("html");i.innerHTML=t;const r=i.querySelectorAll("#__APP_DATA")[0].innerText,f=JSON.parse(r).pageData.redux.products.usdtFuturesProducts;return Array.from(f).map(h=>{if(h.contractType!="PERPETUAL"||h.status!="TRADING")return;const P=h.pair,b=h.baseAsset,E=h.filters.reduce((S,g)=>(S[g.filterType]=g,S),{});return{symbol:P,coin:b,rules:E}})}))}function Kn(){return En("3c.cache.brackets",24*60*60,In,()=>fetch(Pn("https://www.binance.com/bapi/futures/v1/friendly/future/common/brackets"),{headers:{"content-type":"application/json"},body:"{}",method:"POST"}).then(t=>t.json()).then(t=>t.data.brackets.map(i=>({symbol:i.symbol,brackets:i.riskBrackets.map(r=>({volume_cap:r.bracketNotionalCap,min_leverage:r.minOpenPosLeverage,max_leverage:r.maxOpenPosLeverage}))}))))}function yn(t,i,r,d){const f=t/i;let h=Math.ceil(f/r)*r;return h=Math.max(d,h),t*=h/f,[h,t]}function Qn(t,i,r,d,f,h,P,b){var M,Q;let E=d.value;d.type=="%"&&(E=t*d.value/100);let S=f.value;f.type=="%"&&(S=t*f.value/100);let g=[];const V=+((M=r==null?void 0:r.LOT_SIZE)==null?void 0:M.stepSize)||1e-6,N=+((Q=r==null?void 0:r.LOT_SIZE)==null?void 0:Q.minQty)||1e-6;let O=0,U=i,[q,D]=yn(E,i,V,N);g.push({order:"BO",price_dev:0,price:i,avg_price:U,size:q,margin:D/P,volume:E,req_price:i*(1+h/100),req_change:h,pnl:0,tp:D*h/100,total_size:q,total_volume:D,total_margin:D/P});for(let G=0;G<f.count;G++){O=O*f.step_scale-f.price_dev;const W=i*(1+O/100),de=S*Math.pow(f.volume_scale,G),[J,Y]=yn(de,W,V,N);D+=Y,q+=J,U=D/q;const X=D/P,Z=U*(1+h/100),te=(Z/W-1)*100,oe=-(1-W/U)*D;g.push({order:`${G+1}`,price_dev:O,price:W,avg_price:U,size:J,margin:Y/P,volume:Y,req_price:Z,req_change:te,tp:D*h/100,pnl:oe,total_size:q,total_volume:D,total_margin:X})}return g}function Dn(t,i,r){if(t<0||t>1||t!=0&&!t)return"";const d=r.findIndex(g=>t<=g.perc)||1,f=r[d-1],h=r[d],P=(t-f.perc)/(h.perc-f.perc),b=1-P,E=P,S={r:Math.floor(f.color.r*b+h.color.r*E),g:Math.floor(f.color.g*b+h.color.g*E),b:Math.floor(f.color.b*b+h.color.b*E)};return"rgba("+[S.r,S.g,S.b,i].join(",")+")"}function Tn(t,i,r){const d=t.slice();return d[54]=i[r],d}function Sn(t,i,r){const d=t.slice();return d[54]=i[r],d}function Nn(t,i,r){const d=t.slice();return d[59]=i[r],d}function An(t,i,r){const d=t.slice();return d[25]=i[r],d}function kn(t){let i,r=t[25].symbol.slice(0,-4)+"",d,f,h;return{c(){i=n("option"),d=c(r),f=c(" / USDT"),this.h()},l(P){i=o(P,"OPTION",{});var b=u(i);d=v(b,r),f=v(b," / USDT"),b.forEach(s),this.h()},h(){i.__value=h=t[25].symbol,i.value=i.__value},m(P,b){z(P,i,b),e(i,d),e(i,f)},p(P,b){b[0]&1&&r!==(r=P[25].symbol.slice(0,-4)+"")&&B(d,r),b[0]&1&&h!==(h=P[25].symbol)&&(i.__value=h,i.value=i.__value)},d(P){P&&s(i)}}}function Ln(t){let i,r,d=t[6]*t[10].value/100+"",f,h,P;return{c(){i=n("div"),r=c("Value: "),f=c(d),h=_(),P=c(We),this.h()},l(b){i=o(b,"DIV",{class:!0});var E=u(i);r=v(E,"Value: "),f=v(E,d),h=p(E),P=v(E,We),E.forEach(s),this.h()},h(){l(i,"class","font-bold")},m(b,E){z(b,i,E),e(i,r),e(i,f),e(i,h),e(i,P)},p(b,E){E[0]&1088&&d!==(d=b[6]*b[10].value/100+"")&&B(f,d)},d(b){b&&s(i)}}}function Vn(t){let i,r,d=t[6]*t[9].value/100+"",f,h,P;return{c(){i=n("div"),r=c("Value: "),f=c(d),h=_(),P=c(We),this.h()},l(b){i=o(b,"DIV",{class:!0});var E=u(i);r=v(E,"Value: "),f=v(E,d),h=p(E),P=v(E,We),E.forEach(s),this.h()},h(){l(i,"class","font-bold")},m(b,E){z(b,i,E),e(i,r),e(i,f),e(i,h),e(i,P)},p(b,E){E[0]&576&&d!==(d=b[6]*b[9].value/100+"")&&B(f,d)},d(b){b&&s(i)}}}function On(t){let i=t[59]+"",r,d;return{c(){r=c(i),d=n("br")},l(f){r=v(f,i),d=o(f,"BR",{})},m(f,h){z(f,r,h),z(f,d,h)},p(f,h){h[0]&36864&&i!==(i=f[59]+"")&&B(r,i)},d(f){f&&s(r),f&&s(d)}}}function wn(t){let i,r=t[54].order+"",d,f,h,P,b,E=t[54].errors,S=[];for(let g=0;g<E.length;g+=1)S[g]=On(Nn(t,E,g));return{c(){i=c("Order: "),d=c(r),f=_(),h=n("br"),P=_();for(let g=0;g<S.length;g+=1)S[g].c();b=hn()},l(g){i=v(g,"Order: "),d=v(g,r),f=p(g),h=o(g,"BR",{}),P=p(g);for(let V=0;V<S.length;V+=1)S[V].l(g);b=hn()},m(g,V){z(g,i,V),z(g,d,V),z(g,f,V),z(g,h,V),z(g,P,V);for(let N=0;N<S.length;N+=1)S[N].m(g,V);z(g,b,V)},p(g,V){if(V[0]&36864&&r!==(r=g[54].order+"")&&B(d,r),V[0]&36864){E=g[54].errors;let N;for(N=0;N<E.length;N+=1){const O=Nn(g,E,N);S[N]?S[N].p(O,V):(S[N]=On(O),S[N].c(),S[N].m(b.parentNode,b))}for(;N<S.length;N+=1)S[N].d(1);S.length=E.length}},d(g){g&&s(i),g&&s(d),g&&s(f),g&&s(h),g&&s(P),Va(S,g),g&&s(b)}}}function Bn(t){let i,r,d=t[54].order+"",f,h,P,b=I(t[54].price_dev)+"",E,S,g=I(t[54].price)+"",V,N,O,U,q=-I((1-t[54].avg_price/t[1])*100)+"",D,M,Q=I(t[54].avg_price)+"",G,W,de,J,Y=I(t[54].req_price)+"",X,Z,te=I(t[54].req_change)+"",oe,Je,$=I(t[54].tp)+"",re,Te,me,be,C,Ke=I(t[54].volume)+"",Ue,le,ie=I(t[54].margin)+"",Ge,ge,Xe,Se,Qe=I(t[54].pnl)+"",se,Ne,$e,he,ue=I(t[54].total_volume)+"",ae,xe,Ae=I(t[54].total_margin)+"",x,Ee,et,Ie,at;function A(){return t[52](t[54])}return{c(){i=n("tr"),r=n("td"),f=c(d),h=_(),P=n("td"),E=c(b),S=c("% ($"),V=c(g),N=c(")"),O=_(),U=n("td"),D=c(q),M=c("% ($"),G=c(Q),W=c(")"),de=_(),J=n("td"),X=c(Y),Z=c("$ ("),oe=c(te),Je=c("%) / +"),re=c($),Te=c("$"),be=_(),C=n("td"),Ue=c(Ke),le=c("$ ($"),Ge=c(ie),ge=c(")"),Xe=_(),Se=n("td"),se=c(Qe),Ne=c("$"),$e=_(),he=n("td"),ae=c(ue),xe=c("$ ("),x=c(Ae),Ee=c("$)"),et=_(),this.h()},l(Pe){i=o(Pe,"TR",{class:!0});var y=u(i);r=o(y,"TD",{class:!0});var ke=u(r);f=v(ke,d),ke.forEach(s),h=p(y),P=o(y,"TD",{class:!0});var qe=u(P);E=v(qe,b),S=v(qe,"% ($"),V=v(qe,g),N=v(qe,")"),qe.forEach(s),O=p(y),U=o(y,"TD",{class:!0});var k=u(U);D=v(k,q),M=v(k,"% ($"),G=v(k,Q),W=v(k,")"),k.forEach(s),de=p(y),J=o(y,"TD",{style:!0,class:!0});var F=u(J);X=v(F,Y),Z=v(F,"$ ("),oe=v(F,te),Je=v(F,"%) / +"),re=v(F,$),Te=v(F,"$"),F.forEach(s),be=p(y),C=o(y,"TD",{class:!0});var ee=u(C);Ue=v(ee,Ke),le=v(ee,"$ ($"),Ge=v(ee,ie),ge=v(ee,")"),ee.forEach(s),Xe=p(y),Se=o(y,"TD",{class:!0});var pt=u(Se);se=v(pt,Qe),Ne=v(pt,"$"),pt.forEach(s),$e=p(y),he=o(y,"TD",{class:!0});var Me=u(he);ae=v(Me,ue),xe=v(Me,"$ ("),x=v(Me,Ae),Ee=v(Me,"$)"),Me.forEach(s),et=p(y),y.forEach(s),this.h()},h(){l(r,"class","svelte-1cdj28r"),l(P,"class","svelte-1cdj28r"),l(U,"class","svelte-1cdj28r"),l(J,"style",me=t[54].errors.length>0?"":"background-color: "+Dn((t[54].req_change-t[5])/(t[13]-t[5]),.3,t[24])),l(J,"class","svelte-1cdj28r"),l(C,"class","svelte-1cdj28r"),l(Se,"class","svelte-1cdj28r"),l(he,"class","svelte-1cdj28r"),l(i,"class","svelte-1cdj28r"),mn(i,"error",t[54].errors.length>0)},m(Pe,y){z(Pe,i,y),e(i,r),e(r,f),e(i,h),e(i,P),e(P,E),e(P,S),e(P,V),e(P,N),e(i,O),e(i,U),e(U,D),e(U,M),e(U,G),e(U,W),e(i,de),e(i,J),e(J,X),e(J,Z),e(J,oe),e(J,Je),e(J,re),e(J,Te),e(i,be),e(i,C),e(C,Ue),e(C,le),e(C,Ge),e(C,ge),e(i,Xe),e(i,Se),e(Se,se),e(Se,Ne),e(i,$e),e(i,he),e(he,ae),e(he,xe),e(he,x),e(he,Ee),e(i,et),Ie||(at=[j(i,"mouseenter",A),j(i,"mouseleave",t[53])],Ie=!0)},p(Pe,y){t=Pe,y[0]&4&&d!==(d=t[54].order+"")&&B(f,d),y[0]&4&&b!==(b=I(t[54].price_dev)+"")&&B(E,b),y[0]&4&&g!==(g=I(t[54].price)+"")&&B(V,g),y[0]&6&&q!==(q=-I((1-t[54].avg_price/t[1])*100)+"")&&B(D,q),y[0]&4&&Q!==(Q=I(t[54].avg_price)+"")&&B(G,Q),y[0]&4&&Y!==(Y=I(t[54].req_price)+"")&&B(X,Y),y[0]&4&&te!==(te=I(t[54].req_change)+"")&&B(oe,te),y[0]&4&&$!==($=I(t[54].tp)+"")&&B(re,$),y[0]&8228&&me!==(me=t[54].errors.length>0?"":"background-color: "+Dn((t[54].req_change-t[5])/(t[13]-t[5]),.3,t[24]))&&l(J,"style",me),y[0]&4&&Ke!==(Ke=I(t[54].volume)+"")&&B(Ue,Ke),y[0]&4&&ie!==(ie=I(t[54].margin)+"")&&B(Ge,ie),y[0]&4&&Qe!==(Qe=I(t[54].pnl)+"")&&B(se,Qe),y[0]&4&&ue!==(ue=I(t[54].total_volume)+"")&&B(ae,ue),y[0]&4&&Ae!==(Ae=I(t[54].total_margin)+"")&&B(x,Ae),y[0]&8388612&&mn(i,"error",t[54].errors.length>0)},d(Pe){Pe&&s(i),Ie=!1,bn(at)}}}function Zn(t){let i,r,d,f,h,P,b,E,S,g,V,N,O,U,q,D,M,Q,G,W,de,J,Y,X,Z,te,oe,Je,$,re,Te,me,be,C,Ke,Ue,le,ie,Ge,ge,Xe,Se,Qe,se,Ne,$e,he,ue,ae,xe,Ae,x,Ee,et,Ie,at,A,Pe,y,ke,qe,k,F,ee,pt,Me,Oa,wa,ft,dt,Ba,Ua,ht,tt,qa,Ma,ye,mt,bt,Ra,ja,rt,Le,za,Re,Ca,gt,Et,Ha,Wa,st,je,Ja,Ze,Ka,It,Pt,Qa,Za,nt,Ve,Fa,ze,Ga,yt,Dt,Ya,Xa,ot,Oe,wl,$a,Ce,Bl,xa,Tt,St,er,tr,it,we,lr,He,ar,R,Qt,rr,sr,Nt,cl,nr,or,lt,vl=I(t[3].total_margin)+"",Ul,ir,_l=I(t[3].total_margin/t[6]*100)+"",ql,ur,cr,At,pl,vr,_r,kt,fl=I(t[3].total_volume)+"",Ml,pr,fr,Lt,dl,dr,hr,Vt,hl=I(t[3].price_dev)+"",Rl,mr,br,Zt,gr,Er,Ot,ml,Ir,Pr,wt,bl=I(-t[3].pnl)+"",jl,yr,Dr,Bt,gl,Tr,Sr,Ut,El=I(t[6]+t[3].pnl)+"",zl,Nr,Ar,qt,Il,kr,Lr,Ft,Pl=I(t[14])+"",Cl,Vr,Mt,yl,Or,wr,Rt,Dl=-I(100-t[14]/t[1]*100)+"",Hl,Br,Ur,jt,Tl,qr,Mr,zt,Sl=-I(100-t[14]/t[1]*100+t[3].price_dev)+"",Wl,Rr,jr,Ct,Nl,zr,Cr,Ht,Al=I(t[5])+"",Jl,Hr,Wr,Wt,kl,Jr,Kr,Jt,Ll=I(t[13])+"",Kl,Qr,Ql,Zl,Fl,ut,Gl,Yl,Xl,$l,xl,Gt,ea,ta,ct,Vl,ne,Yt,Zr,Fr,Xt,Gr,Yr,$t,Xr,$r,xt,xr,es,el,ts,ls,tl,as,rs,ll,ss,ns,al,os,Is,rl=t[0],ce=[];for(let a=0;a<rl.length;a+=1)ce[a]=kn(An(t,rl,a));let ve=t[10].type=="%"&&Ln(t),_e=t[9].type=="%"&&Vn(t),sl=t[15]?[t[12]||t[15]]:[],pe=[];for(let a=0;a<sl.length;a+=1)pe[a]=wn(Sn(t,sl,a));let nl=t[23]?t[2].reverse():t[2],fe=[];for(let a=0;a<nl.length;a+=1)fe[a]=Bn(Tn(t,nl,a));return{c(){i=n("div"),r=n("div"),d=n("div"),f=n("label"),h=c("Wallet Balance"),P=_(),b=n("div"),E=n("input"),S=_(),g=n("span"),V=c(We),N=_(),O=n("div"),U=n("label"),q=c("Coin"),D=_(),M=n("select");for(let a=0;a<ce.length;a+=1)ce[a].c();Q=_(),G=n("div"),W=n("label"),de=c("Entry Price"),J=_(),Y=n("div"),X=n("input"),Z=_(),te=n("span"),oe=c(We),Je=_(),$=n("div"),re=n("label"),Te=c("Base Order size"),me=_(),be=n("div"),C=n("input"),Ke=_(),Ue=n("div"),le=n("select"),ie=n("option"),Ge=c("%"),ge=n("option"),Xe=c(We),Se=_(),ve&&ve.c(),Qe=_(),se=n("div"),Ne=n("label"),$e=c("Safety Order size"),he=_(),ue=n("div"),ae=n("input"),xe=_(),Ae=n("div"),x=n("select"),Ee=n("option"),et=c("%"),Ie=n("option"),at=c(We),A=_(),_e&&_e.c(),Pe=_(),y=n("div"),ke=n("label"),qe=c("Take Profit"),k=_(),F=n("div"),ee=n("input"),pt=_(),Me=n("span"),Oa=c("%"),wa=_(),ft=n("div"),dt=n("label"),Ba=c("Long or short"),Ua=_(),ht=n("div"),tt=n("input"),qa=c(`
        Long`),Ma=_(),ye=n("div"),mt=n("div"),bt=n("label"),Ra=c("Price deviation to open safety orders (%)"),ja=_(),rt=n("div"),Le=n("input"),za=_(),Re=n("input"),Ca=_(),gt=n("div"),Et=n("label"),Ha=c("Max safety trades count"),Wa=_(),st=n("div"),je=n("input"),Ja=_(),Ze=n("input"),Ka=_(),It=n("div"),Pt=n("label"),Qa=c("Safety order volume scale"),Za=_(),nt=n("div"),Ve=n("input"),Fa=_(),ze=n("input"),Ga=_(),yt=n("div"),Dt=n("label"),Ya=c("Leverage"),Xa=_(),ot=n("div"),Oe=n("input"),$a=_(),Ce=n("input"),xa=_(),Tt=n("div"),St=n("label"),er=c("Safety order step scale"),tr=_(),it=n("div"),we=n("input"),lr=_(),He=n("input"),ar=_(),R=n("div"),Qt=n("header"),rr=c("Usage"),sr=_(),Nt=n("div"),cl=n("span"),nr=c("Max amount for bot usage:"),or=_(),lt=n("span"),Ul=c(vl),ir=c("$ ("),ql=c(_l),ur=c("%)"),cr=_(),At=n("div"),pl=n("span"),vr=c("Max deal volume:"),_r=_(),kt=n("span"),Ml=c(fl),pr=c("$"),fr=_(),Lt=n("div"),dl=n("span"),dr=c("Max. safe order price deviation:"),hr=_(),Vt=n("span"),Rl=c(hl),mr=c("%"),br=_(),Zt=n("header"),gr=c("Stats"),Er=_(),Ot=n("div"),ml=n("span"),Ir=c("Wallet reserve:"),Pr=_(),wt=n("span"),jl=c(bl),yr=c("$"),Dr=_(),Bt=n("div"),gl=n("span"),Tr=c("Additional Reserve:"),Sr=_(),Ut=n("span"),zl=c(El),Nr=c("$"),Ar=_(),qt=n("div"),Il=n("span"),kr=c("Liquidation at price:"),Lr=_(),Ft=n("span"),Cl=c(Pl),Vr=_(),Mt=n("div"),yl=n("span"),Or=c("Drop from entry:"),wr=_(),Rt=n("span"),Hl=c(Dl),Br=c("%"),Ur=_(),jt=n("div"),Tl=n("span"),qr=c("Drop from last SO:"),Mr=_(),zt=n("span"),Wl=c(Sl),Rr=c("%"),jr=_(),Ct=n("div"),Nl=n("span"),zr=c("Min Required Change:"),Cr=_(),Ht=n("span"),Jl=c(Al),Hr=c("%"),Wr=_(),Wt=n("div"),kl=n("span"),Jr=c("Max Required Change:"),Kr=_(),Jt=n("span"),Kl=c(Ll),Qr=c("%"),Ql=_(),Zl=n("br"),Fl=c(`
Reverse: `),ut=n("input"),Gl=_(),Yl=n("br"),Xl=_(),$l=n("br"),xl=_();for(let a=0;a<pe.length;a+=1)pe[a].c();Gt=_(),ea=n("br"),ta=_(),ct=n("table"),Vl=n("thead"),ne=n("tr"),Yt=n("th"),Zr=c("Order #"),Fr=_(),Xt=n("th"),Gr=c("Price Dev."),Yr=_(),$t=n("th"),Xr=c("Avg. Price"),$r=_(),xt=n("th"),xr=c("Required price / Profit"),es=_(),el=n("th"),ts=c("Order Size (Margin)"),ls=_(),tl=n("th"),as=c("PnL"),rs=_(),ll=n("th"),ss=c("Total Volume (Margin)"),ns=_(),al=n("tbody");for(let a=0;a<fe.length;a+=1)fe[a].c();this.h()},l(a){i=o(a,"DIV",{class:!0});var m=u(i);r=o(m,"DIV",{class:!0});var L=u(r);d=o(L,"DIV",{});var Kt=u(d);f=o(Kt,"LABEL",{for:!0,class:!0});var T=u(f);h=v(T,"Wallet Balance"),T.forEach(s),P=p(Kt),b=o(Kt,"DIV",{class:!0});var Be=u(b);E=o(Be,"INPUT",{type:!0,name:!0,class:!0,step:!0}),S=p(Be),g=o(Be,"SPAN",{class:!0});var Ps=u(g);V=v(Ps,We),Ps.forEach(s),Be.forEach(s),Kt.forEach(s),N=p(L),O=o(L,"DIV",{});var la=u(O);U=o(la,"LABEL",{for:!0,class:!0});var ys=u(U);q=v(ys,"Coin"),ys.forEach(s),D=p(la),M=o(la,"SELECT",{name:!0,class:!0});var Ds=u(M);for(let Fe=0;Fe<ce.length;Fe+=1)ce[Fe].l(Ds);Ds.forEach(s),la.forEach(s),Q=p(L),G=o(L,"DIV",{});var aa=u(G);W=o(aa,"LABEL",{for:!0,class:!0});var Ts=u(W);de=v(Ts,"Entry Price"),Ts.forEach(s),J=p(aa),Y=o(aa,"DIV",{class:!0});var ra=u(Y);X=o(ra,"INPUT",{type:!0,name:!0,class:!0}),Z=p(ra),te=o(ra,"SPAN",{class:!0});var Ss=u(te);oe=v(Ss,We),Ss.forEach(s),ra.forEach(s),aa.forEach(s),Je=p(L),$=o(L,"DIV",{});var ol=u($);re=o(ol,"LABEL",{for:!0,class:!0});var Ns=u(re);Te=v(Ns,"Base Order size"),Ns.forEach(s),me=p(ol),be=o(ol,"DIV",{class:!0});var sa=u(be);C=o(sa,"INPUT",{type:!0,name:!0,class:!0,step:!0}),Ke=p(sa),Ue=o(sa,"DIV",{});var As=u(Ue);le=o(As,"SELECT",{name:!0,class:!0});var is=u(le);ie=o(is,"OPTION",{});var ks=u(ie);Ge=v(ks,"%"),ks.forEach(s),ge=o(is,"OPTION",{});var Ls=u(ge);Xe=v(Ls,We),Ls.forEach(s),is.forEach(s),As.forEach(s),sa.forEach(s),Se=p(ol),ve&&ve.l(ol),ol.forEach(s),Qe=p(L),se=o(L,"DIV",{});var il=u(se);Ne=o(il,"LABEL",{for:!0,class:!0});var Vs=u(Ne);$e=v(Vs,"Safety Order size"),Vs.forEach(s),he=p(il),ue=o(il,"DIV",{class:!0});var na=u(ue);ae=o(na,"INPUT",{type:!0,name:!0,class:!0,step:!0}),xe=p(na),Ae=o(na,"DIV",{});var Os=u(Ae);x=o(Os,"SELECT",{name:!0,class:!0});var us=u(x);Ee=o(us,"OPTION",{});var ws=u(Ee);et=v(ws,"%"),ws.forEach(s),Ie=o(us,"OPTION",{});var Bs=u(Ie);at=v(Bs,We),Bs.forEach(s),us.forEach(s),Os.forEach(s),na.forEach(s),A=p(il),_e&&_e.l(il),il.forEach(s),Pe=p(L),y=o(L,"DIV",{});var oa=u(y);ke=o(oa,"LABEL",{for:!0,class:!0});var Us=u(ke);qe=v(Us,"Take Profit"),Us.forEach(s),k=p(oa),F=o(oa,"DIV",{class:!0});var ia=u(F);ee=o(ia,"INPUT",{type:!0,name:!0,class:!0,min:!0,max:!0,step:!0}),pt=p(ia),Me=o(ia,"SPAN",{class:!0});var qs=u(Me);Oa=v(qs,"%"),qs.forEach(s),ia.forEach(s),oa.forEach(s),wa=p(L),ft=o(L,"DIV",{});var ua=u(ft);dt=o(ua,"LABEL",{for:!0,class:!0});var Ms=u(dt);Ba=v(Ms,"Long or short"),Ms.forEach(s),Ua=p(ua),ht=o(ua,"DIV",{class:!0});var cs=u(ht);tt=o(cs,"INPUT",{type:!0,name:!0,class:!0}),qa=v(cs,`
        Long`),cs.forEach(s),ua.forEach(s),Ma=p(L),ye=o(L,"DIV",{class:!0});var Ye=u(ye);mt=o(Ye,"DIV",{});var ca=u(mt);bt=o(ca,"LABEL",{for:!0,class:!0});var Rs=u(bt);Ra=v(Rs,"Price deviation to open safety orders (%)"),Rs.forEach(s),ja=p(ca),rt=o(ca,"DIV",{class:!0});var va=u(rt);Le=o(va,"INPUT",{name:!0,type:!0,class:!0,min:!0,max:!0,step:!0}),za=p(va),Re=o(va,"INPUT",{type:!0,class:!0,min:!0,max:!0,step:!0}),va.forEach(s),ca.forEach(s),Ca=p(Ye),gt=o(Ye,"DIV",{});var _a=u(gt);Et=o(_a,"LABEL",{for:!0,class:!0});var js=u(Et);Ha=v(js,"Max safety trades count"),js.forEach(s),Wa=p(_a),st=o(_a,"DIV",{class:!0});var pa=u(st);je=o(pa,"INPUT",{name:!0,type:!0,class:!0,min:!0,max:!0}),Ja=p(pa),Ze=o(pa,"INPUT",{type:!0,class:!0,min:!0,max:!0}),pa.forEach(s),_a.forEach(s),Ka=p(Ye),It=o(Ye,"DIV",{});var fa=u(It);Pt=o(fa,"LABEL",{for:!0,class:!0});var zs=u(Pt);Qa=v(zs,"Safety order volume scale"),zs.forEach(s),Za=p(fa),nt=o(fa,"DIV",{class:!0});var da=u(nt);Ve=o(da,"INPUT",{name:!0,type:!0,class:!0,min:!0,max:!0,step:!0}),Fa=p(da),ze=o(da,"INPUT",{type:!0,class:!0,min:!0,max:!0,step:!0}),da.forEach(s),fa.forEach(s),Ga=p(Ye),yt=o(Ye,"DIV",{});var ha=u(yt);Dt=o(ha,"LABEL",{for:!0,class:!0});var Cs=u(Dt);Ya=v(Cs,"Leverage"),Cs.forEach(s),Xa=p(ha),ot=o(ha,"DIV",{class:!0});var ma=u(ot);Oe=o(ma,"INPUT",{name:!0,type:!0,class:!0,min:!0,max:!0}),$a=p(ma),Ce=o(ma,"INPUT",{type:!0,class:!0,min:!0,max:!0}),ma.forEach(s),ha.forEach(s),xa=p(Ye),Tt=o(Ye,"DIV",{});var ba=u(Tt);St=o(ba,"LABEL",{for:!0,class:!0});var Hs=u(St);er=v(Hs,"Safety order step scale"),Hs.forEach(s),tr=p(ba),it=o(ba,"DIV",{class:!0});var ga=u(it);we=o(ga,"INPUT",{name:!0,type:!0,class:!0,min:!0,max:!0,step:!0}),lr=p(ga),He=o(ga,"INPUT",{type:!0,class:!0,min:!0,max:!0,step:!0}),ga.forEach(s),ba.forEach(s),Ye.forEach(s),L.forEach(s),ar=p(m),R=o(m,"DIV",{});var K=u(R);Qt=o(K,"HEADER",{class:!0});var Ws=u(Qt);rr=v(Ws,"Usage"),Ws.forEach(s),sr=p(K),Nt=o(K,"DIV",{});var Ea=u(Nt);cl=o(Ea,"SPAN",{});var Js=u(cl);nr=v(Js,"Max amount for bot usage:"),Js.forEach(s),or=p(Ea),lt=o(Ea,"SPAN",{class:!0});var Ol=u(lt);Ul=v(Ol,vl),ir=v(Ol,"$ ("),ql=v(Ol,_l),ur=v(Ol,"%)"),Ol.forEach(s),Ea.forEach(s),cr=p(K),At=o(K,"DIV",{});var Ia=u(At);pl=o(Ia,"SPAN",{});var Ks=u(pl);vr=v(Ks,"Max deal volume:"),Ks.forEach(s),_r=p(Ia),kt=o(Ia,"SPAN",{class:!0});var vs=u(kt);Ml=v(vs,fl),pr=v(vs,"$"),vs.forEach(s),Ia.forEach(s),fr=p(K),Lt=o(K,"DIV",{});var Pa=u(Lt);dl=o(Pa,"SPAN",{});var Qs=u(dl);dr=v(Qs,"Max. safe order price deviation:"),Qs.forEach(s),hr=p(Pa),Vt=o(Pa,"SPAN",{class:!0});var _s=u(Vt);Rl=v(_s,hl),mr=v(_s,"%"),_s.forEach(s),Pa.forEach(s),br=p(K),Zt=o(K,"HEADER",{class:!0});var Zs=u(Zt);gr=v(Zs,"Stats"),Zs.forEach(s),Er=p(K),Ot=o(K,"DIV",{});var ya=u(Ot);ml=o(ya,"SPAN",{});var Fs=u(ml);Ir=v(Fs,"Wallet reserve:"),Fs.forEach(s),Pr=p(ya),wt=o(ya,"SPAN",{class:!0});var ps=u(wt);jl=v(ps,bl),yr=v(ps,"$"),ps.forEach(s),ya.forEach(s),Dr=p(K),Bt=o(K,"DIV",{});var Da=u(Bt);gl=o(Da,"SPAN",{});var Gs=u(gl);Tr=v(Gs,"Additional Reserve:"),Gs.forEach(s),Sr=p(Da),Ut=o(Da,"SPAN",{class:!0});var fs=u(Ut);zl=v(fs,El),Nr=v(fs,"$"),fs.forEach(s),Da.forEach(s),Ar=p(K),qt=o(K,"DIV",{});var Ta=u(qt);Il=o(Ta,"SPAN",{});var Ys=u(Il);kr=v(Ys,"Liquidation at price:"),Ys.forEach(s),Lr=p(Ta),Ft=o(Ta,"SPAN",{class:!0});var Xs=u(Ft);Cl=v(Xs,Pl),Xs.forEach(s),Ta.forEach(s),Vr=p(K),Mt=o(K,"DIV",{});var Sa=u(Mt);yl=o(Sa,"SPAN",{});var $s=u(yl);Or=v($s,"Drop from entry:"),$s.forEach(s),wr=p(Sa),Rt=o(Sa,"SPAN",{class:!0});var ds=u(Rt);Hl=v(ds,Dl),Br=v(ds,"%"),ds.forEach(s),Sa.forEach(s),Ur=p(K),jt=o(K,"DIV",{});var Na=u(jt);Tl=o(Na,"SPAN",{});var xs=u(Tl);qr=v(xs,"Drop from last SO:"),xs.forEach(s),Mr=p(Na),zt=o(Na,"SPAN",{class:!0});var hs=u(zt);Wl=v(hs,Sl),Rr=v(hs,"%"),hs.forEach(s),Na.forEach(s),jr=p(K),Ct=o(K,"DIV",{});var Aa=u(Ct);Nl=o(Aa,"SPAN",{});var en=u(Nl);zr=v(en,"Min Required Change:"),en.forEach(s),Cr=p(Aa),Ht=o(Aa,"SPAN",{class:!0});var ms=u(Ht);Jl=v(ms,Al),Hr=v(ms,"%"),ms.forEach(s),Aa.forEach(s),Wr=p(K),Wt=o(K,"DIV",{});var ka=u(Wt);kl=o(ka,"SPAN",{});var tn=u(kl);Jr=v(tn,"Max Required Change:"),tn.forEach(s),Kr=p(ka),Jt=o(ka,"SPAN",{class:!0});var bs=u(Jt);Kl=v(bs,Ll),Qr=v(bs,"%"),bs.forEach(s),ka.forEach(s),K.forEach(s),m.forEach(s),Ql=p(a),Zl=o(a,"BR",{}),Fl=v(a,`
Reverse: `),ut=o(a,"INPUT",{type:!0}),Gl=p(a),Yl=o(a,"BR",{}),Xl=p(a),$l=o(a,"BR",{}),xl=p(a);for(let Fe=0;Fe<pe.length;Fe+=1)pe[Fe].l(a);Gt=p(a),ea=o(a,"BR",{}),ta=p(a),ct=o(a,"TABLE",{});var La=u(ct);Vl=o(La,"THEAD",{});var ln=u(Vl);ne=o(ln,"TR",{});var De=u(ne);Yt=o(De,"TH",{class:!0});var an=u(Yt);Zr=v(an,"Order #"),an.forEach(s),Fr=p(De),Xt=o(De,"TH",{class:!0});var rn=u(Xt);Gr=v(rn,"Price Dev."),rn.forEach(s),Yr=p(De),$t=o(De,"TH",{class:!0});var sn=u($t);Xr=v(sn,"Avg. Price"),sn.forEach(s),$r=p(De),xt=o(De,"TH",{class:!0});var nn=u(xt);xr=v(nn,"Required price / Profit"),nn.forEach(s),es=p(De),el=o(De,"TH",{class:!0});var on=u(el);ts=v(on,"Order Size (Margin)"),on.forEach(s),ls=p(De),tl=o(De,"TH",{class:!0});var un=u(tl);as=v(un,"PnL"),un.forEach(s),rs=p(De),ll=o(De,"TH",{class:!0});var cn=u(ll);ss=v(cn,"Total Volume (Margin)"),cn.forEach(s),De.forEach(s),ln.forEach(s),ns=p(La),al=o(La,"TBODY",{});var vn=u(al);for(let Fe=0;Fe<fe.length;Fe+=1)fe[Fe].l(vn);vn.forEach(s),La.forEach(s),this.h()},h(){var a,m;l(f,"for","balance"),l(f,"class","block mb-1"),l(E,"type","number"),l(E,"name","balance"),l(E,"class","w-full"),l(E,"step","10"),l(g,"class","px-4 py-2 border border-l-0 border-gray-500 bg-gray-700"),l(b,"class","flex"),l(U,"for","coin"),l(U,"class","block mb-1"),l(M,"name","coin"),l(M,"class","focus:ring-indigo-500 focus:border-indigo-500 bg-gray-900 block w-full"),t[11]===void 0&&gs(()=>t[33].call(M)),l(W,"for","entry_price"),l(W,"class","block mb-1"),l(X,"type","number"),l(X,"name","entry_price"),l(X,"class","w-full"),l(te,"class","px-4 py-2 border border-l-0 border-gray-500 bg-gray-700"),l(Y,"class","flex"),l(re,"for","bo_size"),l(re,"class","block mb-1"),l(C,"type","number"),l(C,"name","bo_size"),l(C,"class","w-full"),l(C,"step","0.01"),ie.__value="%",ie.value=ie.__value,ge.__value="price",ge.value=ge.__value,l(le,"name","$base_order_type"),l(le,"class","focus:ring-indigo-500 focus:border-indigo-500 bg-gray-700"),t[10].type===void 0&&gs(()=>t[36].call(le)),l(be,"class","flex"),l(Ne,"for","so_size"),l(Ne,"class","block mb-1"),l(ae,"type","number"),l(ae,"name","so_size"),l(ae,"class","w-full"),l(ae,"step","0.01"),Ee.__value="%",Ee.value=Ee.__value,Ie.__value="price",Ie.value=Ie.__value,l(x,"name","so_type"),l(x,"class","focus:ring-indigo-500 focus:border-indigo-500 bg-gray-700"),t[9].type===void 0&&gs(()=>t[38].call(x)),l(ue,"class","flex"),l(ke,"for","take_profit"),l(ke,"class","block mb-1"),l(ee,"type","number"),l(ee,"name","take_profit"),l(ee,"class","w-full"),l(ee,"min","0.05"),l(ee,"max","50"),l(ee,"step","0.01"),l(Me,"class","px-4 py-2 border border-l-0 border-gray-500 bg-gray-700"),l(F,"class","flex"),l(dt,"for","long"),l(dt,"class","block mb-1"),l(tt,"type","checkbox"),l(tt,"name","long"),l(tt,"class","focus:ring-indigo-500 focus:border-indigo-500 bg-gray-900"),l(ht,"class","flex"),l(bt,"for","price_deviation"),l(bt,"class","block mb-1"),l(Le,"name","price_deviation"),l(Le,"type","range"),l(Le,"class","block w-full mr-3"),l(Le,"min","0.2"),l(Le,"max","12"),l(Le,"step","0.01"),l(Re,"type","number"),l(Re,"class","!w-24"),l(Re,"min","0.2"),l(Re,"max","12"),l(Re,"step","0.01"),l(rt,"class","flex"),l(Et,"for","max_safety_trades"),l(Et,"class","block mb-1"),l(je,"name","max_safety_trades"),l(je,"type","range"),l(je,"class","block w-full mr-3"),l(je,"min","0"),l(je,"max","100"),l(Ze,"type","number"),l(Ze,"class","!w-24"),l(Ze,"min","0"),l(Ze,"max","100"),l(st,"class","flex"),l(Pt,"for","so_volume_scale"),l(Pt,"class","block mb-1"),l(Ve,"name","so_volume_scale"),l(Ve,"type","range"),l(Ve,"class","block w-full mr-3"),l(Ve,"min","0.1"),l(Ve,"max","10"),l(Ve,"step","0.01"),l(ze,"type","number"),l(ze,"class","!w-24"),l(ze,"min","0.1"),l(ze,"max","10"),l(ze,"step","0.01"),l(nt,"class","flex"),l(Dt,"for","leverage"),l(Dt,"class","block mb-1"),l(Oe,"name","leverage"),l(Oe,"type","range"),l(Oe,"class","block w-full mr-3"),l(Oe,"min","1"),l(Oe,"max",wl=((a=t[4][0])==null?void 0:a.max_leverage)||20),l(Ce,"type","number"),l(Ce,"class","!w-24"),l(Ce,"min","1"),l(Ce,"max",Bl=((m=t[4][0])==null?void 0:m.max_leverage)||20),l(ot,"class","flex"),l(St,"for","so_step_scale"),l(St,"class","block mb-1"),l(we,"name","so-step-scale"),l(we,"type","range"),l(we,"class","block w-full mr-3"),l(we,"min","0.1"),l(we,"max","10"),l(we,"step","0.01"),l(He,"type","number"),l(He,"class","!w-24"),l(He,"min","0.1"),l(He,"max","5"),l(He,"step","0.01"),l(it,"class","flex"),l(ye,"class","col-span-full grid grid-cols-2 gap-6"),l(r,"class","col-span-2 grid grid-cols-3 gap-6"),l(Qt,"class","text-2xl text-bold"),l(lt,"class","font-bold"),l(kt,"class","font-bold"),l(Vt,"class","font-bold"),l(Zt,"class","text-2xl text-bold mt-10"),l(wt,"class","font-bold"),l(Ut,"class","font-bold"),l(Ft,"class","font-bold"),l(Rt,"class","font-bold"),l(zt,"class","font-bold"),l(Ht,"class","font-bold"),l(Jt,"class","font-bold"),l(i,"class","grid grid-cols-3 gap-8"),l(ut,"type","checkbox"),l(Yt,"class","svelte-1cdj28r"),l(Xt,"class","svelte-1cdj28r"),l($t,"class","svelte-1cdj28r"),l(xt,"class","svelte-1cdj28r"),l(el,"class","svelte-1cdj28r"),l(tl,"class","svelte-1cdj28r"),l(ll,"class","svelte-1cdj28r")},m(a,m){z(a,i,m),e(i,r),e(r,d),e(d,f),e(f,h),e(d,P),e(d,b),e(b,E),w(E,t[6]),e(b,S),e(b,g),e(g,V),e(r,N),e(r,O),e(O,U),e(U,q),e(O,D),e(O,M);for(let L=0;L<ce.length;L+=1)ce[L].m(M,null);ul(M,t[11]),e(r,Q),e(r,G),e(G,W),e(W,de),e(G,J),e(G,Y),e(Y,X),w(X,t[1]),e(Y,Z),e(Y,te),e(te,oe),e(r,Je),e(r,$),e($,re),e(re,Te),e($,me),e($,be),e(be,C),w(C,t[10].value),e(be,Ke),e(be,Ue),e(Ue,le),e(le,ie),e(ie,Ge),e(le,ge),e(ge,Xe),ul(le,t[10].type),e($,Se),ve&&ve.m($,null),e(r,Qe),e(r,se),e(se,Ne),e(Ne,$e),e(se,he),e(se,ue),e(ue,ae),w(ae,t[9].value),e(ue,xe),e(ue,Ae),e(Ae,x),e(x,Ee),e(Ee,et),e(x,Ie),e(Ie,at),ul(x,t[9].type),e(se,A),_e&&_e.m(se,null),e(r,Pe),e(r,y),e(y,ke),e(ke,qe),e(y,k),e(y,F),e(F,ee),w(ee,t[5]),e(F,pt),e(F,Me),e(Me,Oa),e(r,wa),e(r,ft),e(ft,dt),e(dt,Ba),e(ft,Ua),e(ft,ht),e(ht,tt),tt.checked=t[7],e(ht,qa),e(r,Ma),e(r,ye),e(ye,mt),e(mt,bt),e(bt,Ra),e(mt,ja),e(mt,rt),e(rt,Le),w(Le,t[9].price_dev),e(rt,za),e(rt,Re),w(Re,t[9].price_dev),e(ye,Ca),e(ye,gt),e(gt,Et),e(Et,Ha),e(gt,Wa),e(gt,st),e(st,je),w(je,t[9].count),e(st,Ja),e(st,Ze),w(Ze,t[9].count),e(ye,Ka),e(ye,It),e(It,Pt),e(Pt,Qa),e(It,Za),e(It,nt),e(nt,Ve),w(Ve,t[9].volume_scale),e(nt,Fa),e(nt,ze),w(ze,t[9].volume_scale),e(ye,Ga),e(ye,yt),e(yt,Dt),e(Dt,Ya),e(yt,Xa),e(yt,ot),e(ot,Oe),w(Oe,t[8]),e(ot,$a),e(ot,Ce),w(Ce,t[8]),e(ye,xa),e(ye,Tt),e(Tt,St),e(St,er),e(Tt,tr),e(Tt,it),e(it,we),w(we,t[9].step_scale),e(it,lr),e(it,He),w(He,t[9].step_scale),e(i,ar),e(i,R),e(R,Qt),e(Qt,rr),e(R,sr),e(R,Nt),e(Nt,cl),e(cl,nr),e(Nt,or),e(Nt,lt),e(lt,Ul),e(lt,ir),e(lt,ql),e(lt,ur),e(R,cr),e(R,At),e(At,pl),e(pl,vr),e(At,_r),e(At,kt),e(kt,Ml),e(kt,pr),e(R,fr),e(R,Lt),e(Lt,dl),e(dl,dr),e(Lt,hr),e(Lt,Vt),e(Vt,Rl),e(Vt,mr),e(R,br),e(R,Zt),e(Zt,gr),e(R,Er),e(R,Ot),e(Ot,ml),e(ml,Ir),e(Ot,Pr),e(Ot,wt),e(wt,jl),e(wt,yr),e(R,Dr),e(R,Bt),e(Bt,gl),e(gl,Tr),e(Bt,Sr),e(Bt,Ut),e(Ut,zl),e(Ut,Nr),e(R,Ar),e(R,qt),e(qt,Il),e(Il,kr),e(qt,Lr),e(qt,Ft),e(Ft,Cl),e(R,Vr),e(R,Mt),e(Mt,yl),e(yl,Or),e(Mt,wr),e(Mt,Rt),e(Rt,Hl),e(Rt,Br),e(R,Ur),e(R,jt),e(jt,Tl),e(Tl,qr),e(jt,Mr),e(jt,zt),e(zt,Wl),e(zt,Rr),e(R,jr),e(R,Ct),e(Ct,Nl),e(Nl,zr),e(Ct,Cr),e(Ct,Ht),e(Ht,Jl),e(Ht,Hr),e(R,Wr),e(R,Wt),e(Wt,kl),e(kl,Jr),e(Wt,Kr),e(Wt,Jt),e(Jt,Kl),e(Jt,Qr),z(a,Ql,m),z(a,Zl,m),z(a,Fl,m),z(a,ut,m),ut.checked=t[16],z(a,Gl,m),z(a,Yl,m),z(a,Xl,m),z(a,$l,m),z(a,xl,m);for(let L=0;L<pe.length;L+=1)pe[L].m(a,m);z(a,Gt,m),z(a,ea,m),z(a,ta,m),z(a,ct,m),e(ct,Vl),e(Vl,ne),e(ne,Yt),e(Yt,Zr),e(ne,Fr),e(ne,Xt),e(Xt,Gr),e(ne,Yr),e(ne,$t),e($t,Xr),e(ne,$r),e(ne,xt),e(xt,xr),e(ne,es),e(ne,el),e(el,ts),e(ne,ls),e(ne,tl),e(tl,as),e(ne,rs),e(ne,ll),e(ll,ss),e(ct,ns),e(ct,al);for(let L=0;L<fe.length;L+=1)fe[L].m(al,null);os||(Is=[j(E,"input",t[32]),j(M,"change",t[33]),j(X,"input",t[34]),j(C,"input",t[35]),j(le,"change",t[36]),j(ae,"input",t[37]),j(x,"change",t[38]),j(ee,"input",t[39]),j(tt,"change",t[40]),j(Le,"change",t[41]),j(Le,"input",t[41]),j(Re,"input",t[42]),j(je,"change",t[43]),j(je,"input",t[43]),j(Ze,"input",t[44]),j(Ve,"change",t[45]),j(Ve,"input",t[45]),j(ze,"input",t[46]),j(Oe,"change",t[47]),j(Oe,"input",t[47]),j(Ce,"input",t[48]),j(we,"change",t[49]),j(we,"input",t[49]),j(He,"input",t[50]),j(ut,"change",t[51])],os=!0)},p(a,m){var L,Kt;if(m[0]&64&&H(E.value)!==a[6]&&w(E,a[6]),m[0]&1){rl=a[0];let T;for(T=0;T<rl.length;T+=1){const Be=An(a,rl,T);ce[T]?ce[T].p(Be,m):(ce[T]=kn(Be),ce[T].c(),ce[T].m(M,null))}for(;T<ce.length;T+=1)ce[T].d(1);ce.length=rl.length}if(m[0]&2049&&ul(M,a[11]),m[0]&2&&H(X.value)!==a[1]&&w(X,a[1]),m[0]&1024&&H(C.value)!==a[10].value&&w(C,a[10].value),m[0]&1024&&ul(le,a[10].type),a[10].type=="%"?ve?ve.p(a,m):(ve=Ln(a),ve.c(),ve.m($,null)):ve&&(ve.d(1),ve=null),m[0]&512&&H(ae.value)!==a[9].value&&w(ae,a[9].value),m[0]&512&&ul(x,a[9].type),a[9].type=="%"?_e?_e.p(a,m):(_e=Vn(a),_e.c(),_e.m(se,null)):_e&&(_e.d(1),_e=null),m[0]&32&&H(ee.value)!==a[5]&&w(ee,a[5]),m[0]&128&&(tt.checked=a[7]),m[0]&512&&w(Le,a[9].price_dev),m[0]&512&&H(Re.value)!==a[9].price_dev&&w(Re,a[9].price_dev),m[0]&512&&w(je,a[9].count),m[0]&512&&H(Ze.value)!==a[9].count&&w(Ze,a[9].count),m[0]&512&&w(Ve,a[9].volume_scale),m[0]&512&&H(ze.value)!==a[9].volume_scale&&w(ze,a[9].volume_scale),m[0]&16&&wl!==(wl=((L=a[4][0])==null?void 0:L.max_leverage)||20)&&l(Oe,"max",wl),m[0]&256&&w(Oe,a[8]),m[0]&16&&Bl!==(Bl=((Kt=a[4][0])==null?void 0:Kt.max_leverage)||20)&&l(Ce,"max",Bl),m[0]&256&&H(Ce.value)!==a[8]&&w(Ce,a[8]),m[0]&512&&w(we,a[9].step_scale),m[0]&512&&H(He.value)!==a[9].step_scale&&w(He,a[9].step_scale),m[0]&8&&vl!==(vl=I(a[3].total_margin)+"")&&B(Ul,vl),m[0]&72&&_l!==(_l=I(a[3].total_margin/a[6]*100)+"")&&B(ql,_l),m[0]&8&&fl!==(fl=I(a[3].total_volume)+"")&&B(Ml,fl),m[0]&8&&hl!==(hl=I(a[3].price_dev)+"")&&B(Rl,hl),m[0]&8&&bl!==(bl=I(-a[3].pnl)+"")&&B(jl,bl),m[0]&72&&El!==(El=I(a[6]+a[3].pnl)+"")&&B(zl,El),m[0]&16384&&Pl!==(Pl=I(a[14])+"")&&B(Cl,Pl),m[0]&16386&&Dl!==(Dl=-I(100-a[14]/a[1]*100)+"")&&B(Hl,Dl),m[0]&16394&&Sl!==(Sl=-I(100-a[14]/a[1]*100+a[3].price_dev)+"")&&B(Wl,Sl),m[0]&32&&Al!==(Al=I(a[5])+"")&&B(Jl,Al),m[0]&8192&&Ll!==(Ll=I(a[13])+"")&&B(Kl,Ll),m[0]&65536&&(ut.checked=a[16]),m[0]&36864){sl=a[15]?[a[12]||a[15]]:[];let T;for(T=0;T<sl.length;T+=1){const Be=Sn(a,sl,T);pe[T]?pe[T].p(Be,m):(pe[T]=wn(Be),pe[T].c(),pe[T].m(Gt.parentNode,Gt))}for(;T<pe.length;T+=1)pe[T].d(1);pe.length=sl.length}if(m[0]&25178150){nl=a[23]?a[2].reverse():a[2];let T;for(T=0;T<nl.length;T+=1){const Be=Tn(a,nl,T);fe[T]?fe[T].p(Be,m):(fe[T]=Bn(Be),fe[T].c(),fe[T].m(al,null))}for(;T<fe.length;T+=1)fe[T].d(1);fe.length=nl.length}},i:gn,o:gn,d(a){a&&s(i),Va(ce,a),ve&&ve.d(),_e&&_e.d(),a&&s(Ql),a&&s(Zl),a&&s(Fl),a&&s(ut),a&&s(Gl),a&&s(Yl),a&&s(Xl),a&&s($l),a&&s(xl),Va(pe,a),a&&s(Gt),a&&s(ea),a&&s(ta),a&&s(ct),Va(fe,a),os=!1,bn(Is)}}}async function Xn({fetch:t}){return{props:{prices:(await t("https://fapi.binance.com/fapi/v1/ticker/price").then(r=>r.json())).filter(r=>r.symbol.endsWith("USDT")).sort((r,d)=>r.symbol.localeCompare(d.symbol))}}}let We="USDT";function I(t){return t.toLocaleString(void 0,{maximumSignificantDigits:5})}function Fn(t,i,r){let d,f,h,P,b,E,S,g,V,N,O,U,q,D,M,Q,G,{prices:W}=i,de=1;const J=_t("3c.balance",1e4);vt(t,J,A=>r(6,O=A));const Y=_t("3c.coin","BTCUSDT");vt(t,Y,A=>r(11,Q=A));const X=_t("3c.base_order",{value:10,type:"%"});vt(t,X,A=>r(10,M=A));const Z=_t("3c.safety_order",{count:15,value:5,type:"%",price_dev:.99,volume_scale:1.3,step_scale:1});vt(t,Z,A=>r(9,D=A));const te=_t("3c.take_profit",.6);vt(t,te,A=>r(5,N=A));const oe=_t("3c.leverage",20);vt(t,oe,A=>r(8,q=A));const Je=_t("3c.long",!0);vt(t,Je,A=>r(7,U=A));const $=_t("3c.reverse",!0);vt(t,$,A=>r(16,G=A));let re="",Te;Jn().then(A=>r(27,Te=A));let me;Kn().then(A=>r(28,me=A));let be=[{perc:0,color:{r:0,g:255,b:0}},{perc:.5,color:{r:0,g:255,b:255}},{perc:1,color:{r:0,g:0,b:255}}],C;function Ke(){O=H(this.value),J.set(O)}function Ue(){Q=Es(this),Y.set(Q),r(0,W)}function le(){de=H(this.value),r(1,de),r(11,Q),r(26,re),r(0,W)}function ie(){M.value=H(this.value),X.set(M)}function Ge(){M.type=Es(this),X.set(M)}function ge(){D.value=H(this.value),Z.set(D)}function Xe(){D.type=Es(this),Z.set(D)}function Se(){N=H(this.value),te.set(N)}function Qe(){U=this.checked,Je.set(U)}function se(){D.price_dev=H(this.value),Z.set(D)}function Ne(){D.price_dev=H(this.value),Z.set(D)}function $e(){D.count=H(this.value),Z.set(D)}function he(){D.count=H(this.value),Z.set(D)}function ue(){D.volume_scale=H(this.value),Z.set(D)}function ae(){D.volume_scale=H(this.value),Z.set(D)}function xe(){q=H(this.value),oe.set(q)}function Ae(){q=H(this.value),oe.set(q)}function x(){D.step_scale=H(this.value),Z.set(D)}function Ee(){D.step_scale=H(this.value),Z.set(D)}function et(){G=this.checked,$.set(G)}const Ie=A=>r(12,C=A.errors.length>0?A:void 0),at=()=>r(12,C=void 0);return t.$$set=A=>{"prices"in A&&r(0,W=A.prices)},t.$$.update=()=>{var A,Pe,y,ke,qe;t.$$.dirty[0]&67110913&&Q!=re&&(r(26,re=Q),r(1,de=((A=W==null?void 0:W.find(k=>k.symbol==Q))==null?void 0:A.price)||1)),t.$$.dirty[0]&134219776&&r(30,d=(Pe=Te==null?void 0:Te.find(k=>k.symbol==Q))==null?void 0:Pe.rules),t.$$.dirty[0]&268437504&&r(4,f=((y=me==null?void 0:me.find(k=>k.symbol==Q))==null?void 0:y.brackets)||[]),t.$$.dirty[0]&272&&q>((ke=f[0])==null?void 0:ke.max_leverage)&&Wn(oe,q=(qe=f[0])==null?void 0:qe.max_leverage,q),t.$$.dirty[0]&272&&r(31,h=f==null?void 0:f.find(k=>k.min_leverage<=q&&q<=k.max_leverage)),t.$$.dirty[0]&64|t.$$.dirty[1]&1&&r(29,P=k=>{let F=[];return k.total_margin>O&&F.push(`Total margin used (${I(k.total_margin)}$) is more than available balance (${I(O)}$)`),-k.pnl>O&&F.push(`PnL (${I(k.pnl)}$) is higher than available balance (${I(O)}$). Will be liquidated`),k.total_volume>(h==null?void 0:h.volume_cap)&&F.push(`Total volume (${I(k.total_volume)}$) is higher than future volume cap (${I(h==null?void 0:h.volume_cap)}$)`),F}),t.$$.dirty[0]&1610614754&&r(2,b=Qn(+O,+de,d,M,D,+N,+q).map(k=>dn(fn({},k),{errors:P(k)}))),t.$$.dirty[0]&4&&r(15,E=b.find(k=>k.errors.length>0)),t.$$.dirty[0]&4&&r(3,S=b[b.length-1]),t.$$.dirty[0]&72&&r(14,g=S.avg_price*(1-O/S.total_volume)),t.$$.dirty[0]&36&&r(13,V=b.reduce((k,F)=>Math.max(F.req_change,k),N))},[W,de,b,S,f,N,O,U,q,D,M,Q,C,V,g,E,G,J,X,Z,te,oe,Je,$,be,Y,re,Te,me,P,d,h,Ke,Ue,le,ie,Ge,ge,Xe,Se,Qe,se,Ne,$e,he,ue,ae,xe,Ae,x,Ee,et,Ie,at]}class $n extends zn{constructor(i){super();Cn(this,i,Fn,Zn,Hn,{prices:0},null,[-1,-1,-1])}}export{$n as default,Xn as load};
