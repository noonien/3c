var Ns=Object.defineProperty,Ss=Object.defineProperties;var Os=Object.getOwnPropertyDescriptors;var cs=Object.getOwnPropertySymbols;var Ms=Object.prototype.hasOwnProperty,qs=Object.prototype.propertyIsEnumerable;var fs=(t,s,r)=>s in t?Ns(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r,_s=(t,s)=>{for(var r in s||(s={}))Ms.call(s,r)&&fs(t,r,s[r]);if(cs)for(var r of cs(s))qs.call(s,r)&&fs(t,r,s[r]);return t},vs=(t,s)=>Ss(t,Os(s));import{S as Us,i as As,s as ws,e as n,t as i,c as o,a as f,g as u,d as c,f as q,E as e,h as S,k as d,n as h,b as l,l as ps,J as Xl,K as ds,L as hs,M,N as bs,O as Rr,P as O,Q as Jt,R as W,I as ms,T as gt,U as Et,V as Cs,W as Vr}from"../chunks/vendor-203876ed.js";function Ws(t,s,r){let p=localStorage.getItem(t);if(p!=null){let g=JSON.parse(p);if(Date.now()/1e3-g.date<s)return Promise.resolve(g.data)}return r().then(g=>(localStorage.setItem(t,JSON.stringify({date:Date.now()/1e3,data:g})),g))}function gs(t,s,r){const p=t.slice();return p[53]=s[r],p}function Es(t,s,r){const p=t.slice();return p[53]=s[r],p}function ys(t,s,r){const p=t.slice();return p[58]=s[r],p}function Ts(t,s,r){const p=t.slice();return p[26]=s[r],p}function ks(t){let s,r=t[26].symbol.slice(0,-4)+"",p,g,L;return{c(){s=n("option"),p=i(r),g=i(" / USDT"),this.h()},l(I){s=o(I,"OPTION",{});var _=f(s);p=u(_,r),g=u(_," / USDT"),_.forEach(c),this.h()},h(){s.__value=L=t[26].symbol,s.value=s.__value},m(I,_){q(I,s,_),e(s,p),e(s,g)},p(I,_){_[0]&1&&r!==(r=I[26].symbol.slice(0,-4)+"")&&S(p,r),_[0]&1&&L!==(L=I[26].symbol)&&(s.__value=L,s.value=s.__value)},d(I){I&&c(s)}}}function Is(t){let s,r,p=t[9]*t[13].value/100+"",g,L,I;return{c(){s=n("div"),r=i("Value: "),g=i(p),L=d(),I=i(je),this.h()},l(_){s=o(_,"DIV",{class:!0});var y=f(s);r=u(y,"Value: "),g=u(y,p),L=h(y),I=u(y,je),y.forEach(c),this.h()},h(){l(s,"class","font-bold")},m(_,y){q(_,s,y),e(s,r),e(s,g),e(s,L),e(s,I)},p(_,y){y[0]&8704&&p!==(p=_[9]*_[13].value/100+"")&&S(g,p)},d(_){_&&c(s)}}}function Ls(t){let s,r,p=t[9]*t[12].value/100+"",g,L,I;return{c(){s=n("div"),r=i("Value: "),g=i(p),L=d(),I=i(je),this.h()},l(_){s=o(_,"DIV",{class:!0});var y=f(s);r=u(y,"Value: "),g=u(y,p),L=h(y),I=u(y,je),y.forEach(c),this.h()},h(){l(s,"class","font-bold")},m(_,y){q(_,s,y),e(s,r),e(s,g),e(s,L),e(s,I)},p(_,y){y[0]&4608&&p!==(p=_[9]*_[12].value/100+"")&&S(g,p)},d(_){_&&c(s)}}}function Ds(t){let s=t[58]+"",r,p;return{c(){r=i(s),p=n("br")},l(g){r=u(g,s),p=o(g,"BR",{})},m(g,L){q(g,r,L),q(g,p,L)},p(g,L){L[0]&98304&&s!==(s=g[58]+"")&&S(r,s)},d(g){g&&c(r),g&&c(p)}}}function zs(t){let s,r=t[53].order+"",p,g,L,I,_,y=t[53].errors,R=[];for(let b=0;b<y.length;b+=1)R[b]=Ds(ys(t,y,b));return{c(){s=i("Order: "),p=i(r),g=d(),L=n("br"),I=d();for(let b=0;b<R.length;b+=1)R[b].c();_=ps()},l(b){s=u(b,"Order: "),p=u(b,r),g=h(b),L=o(b,"BR",{}),I=h(b);for(let k=0;k<R.length;k+=1)R[k].l(b);_=ps()},m(b,k){q(b,s,k),q(b,p,k),q(b,g,k),q(b,L,k),q(b,I,k);for(let V=0;V<R.length;V+=1)R[V].m(b,k);q(b,_,k)},p(b,k){if(k[0]&98304&&r!==(r=b[53].order+"")&&S(p,r),k[0]&98304){y=b[53].errors;let V;for(V=0;V<y.length;V+=1){const Q=ys(b,y,V);R[V]?R[V].p(Q,k):(R[V]=Ds(Q),R[V].c(),R[V].m(_.parentNode,_))}for(;V<R.length;V+=1)R[V].d(1);R.length=y.length}},d(b){b&&c(s),b&&c(p),b&&c(g),b&&c(L),b&&c(I),Xl(R,b),b&&c(_)}}}function Ps(t){let s,r,p=t[53].order+"",g,L,I,_=T(t[53].price_dev)+"",y,R,b=T(t[53].price)+"",k,V,Q,U,oe=-T((1-t[53].avg_price/t[1])*100)+"",X,J,Ie=T(t[53].avg_price)+"",ee,A,Je,w,Z=T(t[53].req_price)+"",Y,Me,pe=T(t[53].req_change)+"",de,at,j=T(t[53].tp)+"",te,Ze,qe,H,F=T(t[53].volume)+"",$e,Ke,K=T(t[53].margin)+"",he,rt,ye,Le,Qe=T(t[53].pnl)+"",xe,ie,De,be,Ye=T(t[53].total_volume)+"",me,le,Fe=T(t[53].total_margin)+"",Ue,$,Te,st,ze;function B(){return t[51](t[53])}return{c(){s=n("tr"),r=n("td"),g=i(p),L=d(),I=n("td"),y=i(_),R=i("% ($"),k=i(b),V=i(")"),Q=d(),U=n("td"),X=i(oe),J=i("% ($"),ee=i(Ie),A=i(")"),Je=d(),w=n("td"),Y=i(Z),Me=i("$ ("),de=i(pe),at=i("%) / +"),te=i(j),Ze=i("$"),qe=d(),H=n("td"),$e=i(F),Ke=i("$ ($"),he=i(K),rt=i(")"),ye=d(),Le=n("td"),xe=i(Qe),ie=i("$"),De=d(),be=n("td"),me=i(Ye),le=i("$ ("),Ue=i(Fe),$=i("$)"),Te=d(),this.h()},l(ae){s=o(ae,"TR",{class:!0});var D=f(s);r=o(D,"TD",{class:!0});var Pe=f(r);g=u(Pe,p),Pe.forEach(c),L=h(D),I=o(D,"TD",{class:!0});var N=f(I);y=u(N,_),R=u(N,"% ($"),k=u(N,b),V=u(N,")"),N.forEach(c),Q=h(D),U=o(D,"TD",{class:!0});var re=f(U);X=u(re,oe),J=u(re,"% ($"),ee=u(re,Ie),A=u(re,")"),re.forEach(c),Je=h(D),w=o(D,"TD",{style:!0,class:!0});var x=f(w);Y=u(x,Z),Me=u(x,"$ ("),de=u(x,pe),at=u(x,"%) / +"),te=u(x,j),Ze=u(x,"$"),x.forEach(c),qe=h(D),H=o(D,"TD",{class:!0});var G=f(H);$e=u(G,F),Ke=u(G,"$ ($"),he=u(G,K),rt=u(G,")"),G.forEach(c),ye=h(D),Le=o(D,"TD",{class:!0});var C=f(Le);xe=u(C,Qe),ie=u(C,"$"),C.forEach(c),De=h(D),be=o(D,"TD",{class:!0});var ge=f(be);me=u(ge,Ye),le=u(ge,"$ ("),Ue=u(ge,Fe),$=u(ge,"$)"),ge.forEach(c),Te=h(D),D.forEach(c),this.h()},h(){l(r,"class","svelte-zftrlb"),l(I,"class","svelte-zftrlb"),l(U,"class","svelte-zftrlb"),ds(w,"background-color",t[53].errors.length>0?"":Vs((t[53].req_change-t[4])/(t[5]-t[4]),.3,t[25])),l(w,"class","svelte-zftrlb"),l(H,"class","svelte-zftrlb"),l(Le,"class","svelte-zftrlb"),l(be,"class","svelte-zftrlb"),l(s,"class","svelte-zftrlb"),hs(s,"liquidated",t[53].errors.length>0)},m(ae,D){q(ae,s,D),e(s,r),e(r,g),e(s,L),e(s,I),e(I,y),e(I,R),e(I,k),e(I,V),e(s,Q),e(s,U),e(U,X),e(U,J),e(U,ee),e(U,A),e(s,Je),e(s,w),e(w,Y),e(w,Me),e(w,de),e(w,at),e(w,te),e(w,Ze),e(s,qe),e(s,H),e(H,$e),e(H,Ke),e(H,he),e(H,rt),e(s,ye),e(s,Le),e(Le,xe),e(Le,ie),e(s,De),e(s,be),e(be,me),e(be,le),e(be,Ue),e(be,$),e(s,Te),st||(ze=[M(s,"mouseenter",B),M(s,"mouseleave",t[52])],st=!0)},p(ae,D){t=ae,D[0]&8&&p!==(p=t[53].order+"")&&S(g,p),D[0]&8&&_!==(_=T(t[53].price_dev)+"")&&S(y,_),D[0]&8&&b!==(b=T(t[53].price)+"")&&S(k,b),D[0]&10&&oe!==(oe=-T((1-t[53].avg_price/t[1])*100)+"")&&S(X,oe),D[0]&8&&Ie!==(Ie=T(t[53].avg_price)+"")&&S(ee,Ie),D[0]&8&&Z!==(Z=T(t[53].req_price)+"")&&S(Y,Z),D[0]&8&&pe!==(pe=T(t[53].req_change)+"")&&S(de,pe),D[0]&8&&j!==(j=T(t[53].tp)+"")&&S(te,j),D[0]&56&&ds(w,"background-color",t[53].errors.length>0?"":Vs((t[53].req_change-t[4])/(t[5]-t[4]),.3,t[25])),D[0]&8&&F!==(F=T(t[53].volume)+"")&&S($e,F),D[0]&8&&K!==(K=T(t[53].margin)+"")&&S(he,K),D[0]&8&&Qe!==(Qe=T(t[53].pnl)+"")&&S(xe,Qe),D[0]&8&&Ye!==(Ye=T(t[53].total_volume)+"")&&S(me,Ye),D[0]&8&&Fe!==(Fe=T(t[53].total_margin)+"")&&S(Ue,Fe),D[0]&8&&hs(s,"liquidated",t[53].errors.length>0)},d(ae){ae&&c(s),st=!1,bs(ze)}}}function Hs(t){let s,r,p,g,L,I,_,y,R,b,k,V,Q,U,oe,X,J,Ie,ee,A,Je,w,Z,Y,Me,pe,de,at,j,te,Ze,qe,H,F,$e,Ke,K,he,rt,ye,Le,Qe,xe,ie,De,be,Ye,me,le,Fe,Ue,$,Te,st,ze,B,ae,D,Pe,N,re,x,G,C,ge,se,Be,it,nt,et,yt,Kt,tt,Ee,Qt,Zl,ut,Tt,$l,xl,ct,Ae,ea,Ge,ta,ft,kt,la,aa,_t,Re,ol,ra,we,il,sa,vt,It,na,oa,lt,Ve,ia,Ce,ua,Pt,ca,fa,pt,Lt,_a,va,dt,Ne,pa,We,da,ht,Dt,ha,ba,bt,Se,ma,He,ga,m,Ea,ya,Ta,Yt=T(t[2].total_margin)+"",ul,ka,Ft=T(t[2].total_margin/t[9]*100)+"",cl,Ia,La,Da,Gt=T(t[2].total_volume)+"",fl,za,Pa,Ba,Xt=T(t[8])+"",_l,Ra,Va,Na,Zt=T(t[2].price_dev)+"",vl,Sa,Oa,Ma,qa,Ua,Aa,wa,Ca,Wa,$t=T(t[2].total_margin)+"",pl,Ha,ja,Ja,xt=T(-t[2].pnl)+"",dl,Ka,Qa,Ya,el=T(t[9]-t[2].total_margin+t[2].pnl)+"",hl,Fa,Ga,Xa,tl=T(t[14])+"",bl,Za,$a,xa,ll=-T(100-t[14]/t[1]*100)+"",ml,er,tr,lr,al=-T(100-t[14]/t[1]*100+t[2].price_dev)+"",gl,ar,rr,sr,nr,or,rl=T(t[4])+"",El,ir,ur,cr,sl=T(t[5])+"",yl,fr,Tl,kl,Il,ot,Ll,Dl,zl,Pl,Bl,Bt,Rl,Vl,mt,nl,ne,Rt,_r,vr,Vt,pr,dr,Nt,hr,br,St,mr,gr,Ot,Er,yr,Mt,Tr,kr,qt,Ir,Lr,Ut,Dr,Nr,At=t[0],ue=[];for(let a=0;a<At.length;a+=1)ue[a]=ks(Ts(t,At,a));let ce=t[13].type=="%"&&Is(t),fe=t[12].type=="%"&&Ls(t),wt=t[15]?[t[16]||t[15]]:[],_e=[];for(let a=0;a<wt.length;a+=1)_e[a]=zs(Es(t,wt,a));let Ct=t[3],ve=[];for(let a=0;a<Ct.length;a+=1)ve[a]=Ps(gs(t,Ct,a));return{c(){s=n("div"),r=n("div"),p=n("div"),g=n("label"),L=i("Wallet Balance"),I=d(),_=n("div"),y=n("input"),R=d(),b=n("span"),k=i(je),V=d(),Q=n("div"),U=n("label"),oe=i("Coin"),X=d(),J=n("select");for(let a=0;a<ue.length;a+=1)ue[a].c();Ie=d(),ee=n("div"),A=n("label"),Je=i("Entry Price"),w=d(),Z=n("div"),Y=n("input"),Me=d(),pe=n("span"),de=i(je),at=d(),j=n("div"),te=n("label"),Ze=i("Base Order size"),qe=d(),H=n("div"),F=n("input"),$e=d(),Ke=n("div"),K=n("select"),he=n("option"),rt=i("%"),ye=n("option"),Le=i(je),Qe=d(),ce&&ce.c(),xe=d(),ie=n("div"),De=n("label"),be=i("Safety Order size"),Ye=d(),me=n("div"),le=n("input"),Fe=d(),Ue=n("div"),$=n("select"),Te=n("option"),st=i("%"),ze=n("option"),B=i(je),ae=d(),fe&&fe.c(),D=d(),Pe=n("div"),N=n("label"),re=i("Take Profit"),x=d(),G=n("div"),C=n("input"),ge=d(),se=n("span"),Be=i("%"),it=d(),nt=n("div"),et=n("label"),yt=i("Long or short"),Kt=d(),tt=n("div"),Ee=n("input"),Qt=i(`
        Long`),Zl=d(),ut=n("div"),Tt=n("label"),$l=i("Max safety trades count"),xl=d(),ct=n("div"),Ae=n("input"),ea=d(),Ge=n("input"),ta=d(),ft=n("div"),kt=n("label"),la=i("Leverage"),aa=d(),_t=n("div"),Re=n("input"),ra=d(),we=n("input"),sa=d(),vt=n("div"),It=n("label"),na=i("Price deviation to open safety orders"),oa=d(),lt=n("div"),Ve=n("input"),ia=d(),Ce=n("input"),ua=d(),Pt=n("span"),ca=i("%"),fa=d(),pt=n("div"),Lt=n("label"),_a=i("Safety order volume scale"),va=d(),dt=n("div"),Ne=n("input"),pa=d(),We=n("input"),da=d(),ht=n("div"),Dt=n("label"),ha=i("Safety order step scale"),ba=d(),bt=n("div"),Se=n("input"),ma=d(),He=n("input"),ga=d(),m=n("div"),Ea=i(`Bot info:
    `),ya=n("br"),Ta=i(`
    Max amount for bot usage: `),ul=i(Yt),ka=i("$ ("),cl=i(Ft),Ia=i(`%)
    `),La=n("br"),Da=i(`
    Max deal volume: `),fl=i(Gt),za=i(`$
    `),Pa=n("br"),Ba=i(`
    Leverage: `),_l=i(Xt),Ra=d(),Va=n("br"),Na=i(`
    Max. safe order price deviation: `),vl=i(Zt),Sa=i(`%

    `),Oa=n("br"),Ma=d(),qa=n("br"),Ua=d(),Aa=n("br"),wa=i(`

    Recommended Min. Wallet balance:
    `),Ca=n("br"),Wa=i(`
    Max amount for bot usage: `),pl=i($t),Ha=i(`$
    `),ja=n("br"),Ja=i(`
    Wallet reserve: `),dl=i(xt),Ka=i(`$
    `),Qa=n("br"),Ya=i(`
    Additional Reserve: `),hl=i(el),Fa=i(`$
    `),Ga=n("br"),Xa=i(`
    Liquidation at price: `),bl=i(tl),Za=d(),$a=n("br"),xa=i(`
    Drop from entry: `),ml=i(ll),er=i(`%
    `),tr=n("br"),lr=i(`
    Drop from last SO: `),gl=i(al),ar=i(`%
    `),rr=n("br"),sr=d(),nr=n("br"),or=i(`
    Min Required Change:: `),El=i(rl),ir=i(`%
    `),ur=n("br"),cr=i(`
    Max Required Change:: `),yl=i(sl),fr=i("%"),Tl=d(),kl=n("br"),Il=i(`
Reverse: `),ot=n("input"),Ll=d(),Dl=n("br"),zl=d(),Pl=n("br"),Bl=d();for(let a=0;a<_e.length;a+=1)_e[a].c();Bt=d(),Rl=n("br"),Vl=d(),mt=n("table"),nl=n("thead"),ne=n("tr"),Rt=n("th"),_r=i("Order #"),vr=d(),Vt=n("th"),pr=i("Price Dev."),dr=d(),Nt=n("th"),hr=i("Avg. Price"),br=d(),St=n("th"),mr=i("Required price / Profit"),gr=d(),Ot=n("th"),Er=i("Order Size (Margin)"),yr=d(),Mt=n("th"),Tr=i("PnL"),kr=d(),qt=n("th"),Ir=i("Total Volume (Margin)"),Lr=d(),Ut=n("tbody");for(let a=0;a<ve.length;a+=1)ve[a].c();this.h()},l(a){s=o(a,"DIV",{class:!0});var v=f(s);r=o(v,"DIV",{class:!0});var P=f(r);p=o(P,"DIV",{});var zt=f(p);g=o(zt,"LABEL",{for:!0,class:!0});var z=f(g);L=u(z,"Wallet Balance"),z.forEach(c),I=h(zt),_=o(zt,"DIV",{class:!0});var Oe=f(_);y=o(Oe,"INPUT",{type:!0,name:!0,step:!0,class:!0}),R=h(Oe),b=o(Oe,"SPAN",{class:!0});var Sr=f(b);k=u(Sr,je),Sr.forEach(c),Oe.forEach(c),zt.forEach(c),V=h(P),Q=o(P,"DIV",{});var Nl=f(Q);U=o(Nl,"LABEL",{for:!0,class:!0});var Or=f(U);oe=u(Or,"Coin"),Or.forEach(c),X=h(Nl),J=o(Nl,"SELECT",{name:!0,class:!0});var Mr=f(J);for(let Xe=0;Xe<ue.length;Xe+=1)ue[Xe].l(Mr);Mr.forEach(c),Nl.forEach(c),Ie=h(P),ee=o(P,"DIV",{});var Sl=f(ee);A=o(Sl,"LABEL",{for:!0,class:!0});var qr=f(A);Je=u(qr,"Entry Price"),qr.forEach(c),w=h(Sl),Z=o(Sl,"DIV",{class:!0});var Ol=f(Z);Y=o(Ol,"INPUT",{type:!0,name:!0,class:!0}),Me=h(Ol),pe=o(Ol,"SPAN",{class:!0});var Ur=f(pe);de=u(Ur,je),Ur.forEach(c),Ol.forEach(c),Sl.forEach(c),at=h(P),j=o(P,"DIV",{});var Wt=f(j);te=o(Wt,"LABEL",{for:!0,class:!0});var Ar=f(te);Ze=u(Ar,"Base Order size"),Ar.forEach(c),qe=h(Wt),H=o(Wt,"DIV",{class:!0});var Ml=f(H);F=o(Ml,"INPUT",{type:!0,name:!0,step:!0,class:!0}),$e=h(Ml),Ke=o(Ml,"DIV",{});var wr=f(Ke);K=o(wr,"SELECT",{name:!0,class:!0});var zr=f(K);he=o(zr,"OPTION",{});var Cr=f(he);rt=u(Cr,"%"),Cr.forEach(c),ye=o(zr,"OPTION",{});var Wr=f(ye);Le=u(Wr,je),Wr.forEach(c),zr.forEach(c),wr.forEach(c),Ml.forEach(c),Qe=h(Wt),ce&&ce.l(Wt),Wt.forEach(c),xe=h(P),ie=o(P,"DIV",{});var Ht=f(ie);De=o(Ht,"LABEL",{for:!0,class:!0});var Hr=f(De);be=u(Hr,"Safety Order size"),Hr.forEach(c),Ye=h(Ht),me=o(Ht,"DIV",{class:!0});var ql=f(me);le=o(ql,"INPUT",{type:!0,name:!0,step:!0,class:!0}),Fe=h(ql),Ue=o(ql,"DIV",{});var jr=f(Ue);$=o(jr,"SELECT",{name:!0,class:!0});var Pr=f($);Te=o(Pr,"OPTION",{});var Jr=f(Te);st=u(Jr,"%"),Jr.forEach(c),ze=o(Pr,"OPTION",{});var Kr=f(ze);B=u(Kr,je),Kr.forEach(c),Pr.forEach(c),jr.forEach(c),ql.forEach(c),ae=h(Ht),fe&&fe.l(Ht),Ht.forEach(c),D=h(P),Pe=o(P,"DIV",{});var Ul=f(Pe);N=o(Ul,"LABEL",{for:!0,class:!0});var Qr=f(N);re=u(Qr,"Take Profit"),Qr.forEach(c),x=h(Ul),G=o(Ul,"DIV",{class:!0});var Al=f(G);C=o(Al,"INPUT",{type:!0,name:!0,min:!0,max:!0,step:!0,class:!0}),ge=h(Al),se=o(Al,"SPAN",{class:!0});var Yr=f(se);Be=u(Yr,"%"),Yr.forEach(c),Al.forEach(c),Ul.forEach(c),it=h(P),nt=o(P,"DIV",{});var wl=f(nt);et=o(wl,"LABEL",{for:!0,class:!0});var Fr=f(et);yt=u(Fr,"Long or short"),Fr.forEach(c),Kt=h(wl),tt=o(wl,"DIV",{class:!0});var Br=f(tt);Ee=o(Br,"INPUT",{type:!0,name:!0,class:!0}),Qt=u(Br,`
        Long`),Br.forEach(c),wl.forEach(c),Zl=h(P),ut=o(P,"DIV",{class:!0});var Cl=f(ut);Tt=o(Cl,"LABEL",{for:!0,class:!0});var Gr=f(Tt);$l=u(Gr,"Max safety trades count"),Gr.forEach(c),xl=h(Cl),ct=o(Cl,"DIV",{class:!0});var Wl=f(ct);Ae=o(Wl,"INPUT",{name:!0,type:!0,class:!0,min:!0,max:!0}),ea=h(Wl),Ge=o(Wl,"INPUT",{type:!0,min:!0,max:!0,class:!0}),Wl.forEach(c),Cl.forEach(c),ta=h(P),ft=o(P,"DIV",{class:!0});var Hl=f(ft);kt=o(Hl,"LABEL",{for:!0,class:!0});var Xr=f(kt);la=u(Xr,"Leverage"),Xr.forEach(c),aa=h(Hl),_t=o(Hl,"DIV",{class:!0});var jl=f(_t);Re=o(jl,"INPUT",{name:!0,type:!0,class:!0,min:!0,max:!0}),ra=h(jl),we=o(jl,"INPUT",{type:!0,min:!0,max:!0,class:!0}),jl.forEach(c),Hl.forEach(c),sa=h(P),vt=o(P,"DIV",{class:!0});var Jl=f(vt);It=o(Jl,"LABEL",{for:!0,class:!0});var Zr=f(It);na=u(Zr,"Price deviation to open safety orders"),Zr.forEach(c),oa=h(Jl),lt=o(Jl,"DIV",{class:!0});var jt=f(lt);Ve=o(jt,"INPUT",{name:!0,type:!0,class:!0,min:!0,max:!0,step:!0}),ia=h(jt),Ce=o(jt,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),ua=h(jt),Pt=o(jt,"SPAN",{class:!0});var $r=f(Pt);ca=u($r,"%"),$r.forEach(c),jt.forEach(c),Jl.forEach(c),fa=h(P),pt=o(P,"DIV",{class:!0});var Kl=f(pt);Lt=o(Kl,"LABEL",{for:!0,class:!0});var xr=f(Lt);_a=u(xr,"Safety order volume scale"),xr.forEach(c),va=h(Kl),dt=o(Kl,"DIV",{class:!0});var Ql=f(dt);Ne=o(Ql,"INPUT",{name:!0,type:!0,class:!0,min:!0,max:!0,step:!0}),pa=h(Ql),We=o(Ql,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),Ql.forEach(c),Kl.forEach(c),da=h(P),ht=o(P,"DIV",{class:!0});var Yl=f(ht);Dt=o(Yl,"LABEL",{for:!0,class:!0});var es=f(Dt);ha=u(es,"Safety order step scale"),es.forEach(c),ba=h(Yl),bt=o(Yl,"DIV",{class:!0});var Fl=f(bt);Se=o(Fl,"INPUT",{name:!0,type:!0,class:!0,min:!0,max:!0,step:!0}),ma=h(Fl),He=o(Fl,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),Fl.forEach(c),Yl.forEach(c),P.forEach(c),ga=h(v),m=o(v,"DIV",{});var E=f(m);Ea=u(E,`Bot info:
    `),ya=o(E,"BR",{}),Ta=u(E,`
    Max amount for bot usage: `),ul=u(E,Yt),ka=u(E,"$ ("),cl=u(E,Ft),Ia=u(E,`%)
    `),La=o(E,"BR",{}),Da=u(E,`
    Max deal volume: `),fl=u(E,Gt),za=u(E,`$
    `),Pa=o(E,"BR",{}),Ba=u(E,`
    Leverage: `),_l=u(E,Xt),Ra=h(E),Va=o(E,"BR",{}),Na=u(E,`
    Max. safe order price deviation: `),vl=u(E,Zt),Sa=u(E,`%

    `),Oa=o(E,"BR",{}),Ma=h(E),qa=o(E,"BR",{}),Ua=h(E),Aa=o(E,"BR",{}),wa=u(E,`

    Recommended Min. Wallet balance:
    `),Ca=o(E,"BR",{}),Wa=u(E,`
    Max amount for bot usage: `),pl=u(E,$t),Ha=u(E,`$
    `),ja=o(E,"BR",{}),Ja=u(E,`
    Wallet reserve: `),dl=u(E,xt),Ka=u(E,`$
    `),Qa=o(E,"BR",{}),Ya=u(E,`
    Additional Reserve: `),hl=u(E,el),Fa=u(E,`$
    `),Ga=o(E,"BR",{}),Xa=u(E,`
    Liquidation at price: `),bl=u(E,tl),Za=h(E),$a=o(E,"BR",{}),xa=u(E,`
    Drop from entry: `),ml=u(E,ll),er=u(E,`%
    `),tr=o(E,"BR",{}),lr=u(E,`
    Drop from last SO: `),gl=u(E,al),ar=u(E,`%
    `),rr=o(E,"BR",{}),sr=h(E),nr=o(E,"BR",{}),or=u(E,`
    Min Required Change:: `),El=u(E,rl),ir=u(E,`%
    `),ur=o(E,"BR",{}),cr=u(E,`
    Max Required Change:: `),yl=u(E,sl),fr=u(E,"%"),E.forEach(c),v.forEach(c),Tl=h(a),kl=o(a,"BR",{}),Il=u(a,`
Reverse: `),ot=o(a,"INPUT",{type:!0,class:!0}),Ll=h(a),Dl=o(a,"BR",{}),zl=h(a),Pl=o(a,"BR",{}),Bl=h(a);for(let Xe=0;Xe<_e.length;Xe+=1)_e[Xe].l(a);Bt=h(a),Rl=o(a,"BR",{}),Vl=h(a),mt=o(a,"TABLE",{});var Gl=f(mt);nl=o(Gl,"THEAD",{});var ts=f(nl);ne=o(ts,"TR",{});var ke=f(ne);Rt=o(ke,"TH",{class:!0});var ls=f(Rt);_r=u(ls,"Order #"),ls.forEach(c),vr=h(ke),Vt=o(ke,"TH",{class:!0});var as=f(Vt);pr=u(as,"Price Dev."),as.forEach(c),dr=h(ke),Nt=o(ke,"TH",{class:!0});var rs=f(Nt);hr=u(rs,"Avg. Price"),rs.forEach(c),br=h(ke),St=o(ke,"TH",{class:!0});var ss=f(St);mr=u(ss,"Required price / Profit"),ss.forEach(c),gr=h(ke),Ot=o(ke,"TH",{class:!0});var ns=f(Ot);Er=u(ns,"Order Size (Margin)"),ns.forEach(c),yr=h(ke),Mt=o(ke,"TH",{class:!0});var os=f(Mt);Tr=u(os,"PnL"),os.forEach(c),kr=h(ke),qt=o(ke,"TH",{class:!0});var is=f(qt);Ir=u(is,"Total Volume (Margin)"),is.forEach(c),ke.forEach(c),ts.forEach(c),Lr=h(Gl),Ut=o(Gl,"TBODY",{});var us=f(Ut);for(let Xe=0;Xe<ve.length;Xe+=1)ve[Xe].l(us);us.forEach(c),Gl.forEach(c),this.h()},h(){var a,v;l(g,"for","balance"),l(g,"class","block mb-1"),l(y,"type","number"),l(y,"name","balance"),l(y,"step","10"),l(y,"class","svelte-zftrlb"),l(b,"class","px-4 py-2 border border-l-0 border-gray-500 bg-gray-700"),l(_,"class","flex"),l(U,"for","coin"),l(U,"class","block mb-1"),l(J,"name","coin"),l(J,"class","focus:ring-indigo-500 focus:border-indigo-500 bg-gray-900 block w-full"),t[7]===void 0&&Rr(()=>t[32].call(J)),l(A,"for","entry_price"),l(A,"class","block mb-1"),l(Y,"type","text"),l(Y,"name","entry_price"),l(Y,"class","svelte-zftrlb"),l(pe,"class","px-4 py-2 border border-l-0 border-gray-500 bg-gray-700"),l(Z,"class","flex"),l(te,"for","bo_size"),l(te,"class","block mb-1"),l(F,"type","number"),l(F,"name","bo_size"),l(F,"step","0.01"),l(F,"class","svelte-zftrlb"),he.__value="%",he.value=he.__value,ye.__value="price",ye.value=ye.__value,l(K,"name","$base_order_type"),l(K,"class","focus:ring-indigo-500 focus:border-indigo-500 bg-gray-700"),t[13].type===void 0&&Rr(()=>t[35].call(K)),l(H,"class","flex"),l(De,"for","so_size"),l(De,"class","block mb-1"),l(le,"type","number"),l(le,"name","so_size"),l(le,"step","0.01"),l(le,"class","svelte-zftrlb"),Te.__value="%",Te.value=Te.__value,ze.__value="price",ze.value=ze.__value,l($,"name","so_type"),l($,"class","focus:ring-indigo-500 focus:border-indigo-500 bg-gray-700"),t[12].type===void 0&&Rr(()=>t[37].call($)),l(me,"class","flex"),l(N,"for","take_profit"),l(N,"class","block mb-1"),l(C,"type","number"),l(C,"name","take_profit"),l(C,"min","0.05"),l(C,"max","50"),l(C,"step","0.01"),l(C,"class","svelte-zftrlb"),l(se,"class","px-4 py-2 border border-l-0 border-gray-500 bg-gray-700"),l(G,"class","flex"),l(et,"for","long"),l(et,"class","block mb-1"),l(Ee,"type","checkbox"),l(Ee,"name","long"),l(Ee,"class","focus:ring-indigo-500 focus:border-indigo-500 bg-gray-900 svelte-zftrlb"),l(tt,"class","flex"),l(Tt,"for","max_safety_trades"),l(Tt,"class","block mb-1"),l(Ae,"name","max_safety_trades"),l(Ae,"type","range"),l(Ae,"class","block w-full mr-3 svelte-zftrlb"),l(Ae,"min","0"),l(Ae,"max","100"),l(Ge,"type","number"),l(Ge,"min","0"),l(Ge,"max","100"),l(Ge,"class","svelte-zftrlb"),l(ct,"class","flex"),l(ut,"class","col-span-3"),l(kt,"for","leverage"),l(kt,"class","block mb-1"),l(Re,"name","leverage"),l(Re,"type","range"),l(Re,"class","block w-full mr-3 svelte-zftrlb"),l(Re,"min","1"),l(Re,"max",ol=((a=t[6][0])==null?void 0:a.maxLeverage)||20),l(we,"type","number"),l(we,"min","1"),l(we,"max",il=((v=t[6][0])==null?void 0:v.maxLeverage)||20),l(we,"class","svelte-zftrlb"),l(_t,"class","flex"),l(ft,"class","col-span-3"),l(It,"for","price_deviation"),l(It,"class","block mb-1"),l(Ve,"name","price_deviation"),l(Ve,"type","range"),l(Ve,"class","block w-full mr-3 svelte-zftrlb"),l(Ve,"min","0.2"),l(Ve,"max","12"),l(Ve,"step","0.01"),l(Ce,"type","number"),l(Ce,"min","0.2"),l(Ce,"max","12"),l(Ce,"step","0.01"),l(Ce,"class","svelte-zftrlb"),l(Pt,"class","px-4 py-2 border border-l-0 border-gray-500 bg-gray-700"),l(lt,"class","flex"),l(vt,"class","col-span-3"),l(Lt,"for","so_volume_scale"),l(Lt,"class","block mb-1"),l(Ne,"name","so_volume_scale"),l(Ne,"type","range"),l(Ne,"class","block w-full mr-3 svelte-zftrlb"),l(Ne,"min","0.1"),l(Ne,"max","10"),l(Ne,"step","0.01"),l(We,"type","number"),l(We,"min","0.1"),l(We,"max","10"),l(We,"step","0.01"),l(We,"class","svelte-zftrlb"),l(dt,"class","flex"),l(pt,"class","col-span-3"),l(Dt,"for","so_step_scale"),l(Dt,"class","block mb-1"),l(Se,"name","so-step-scale"),l(Se,"type","range"),l(Se,"class","block w-full mr-3 svelte-zftrlb"),l(Se,"min","0.1"),l(Se,"max","10"),l(Se,"step","0.01"),l(He,"type","number"),l(He,"min","0.1"),l(He,"max","5"),l(He,"step","0.01"),l(He,"class","svelte-zftrlb"),l(bt,"class","flex"),l(ht,"class","col-span-3"),l(r,"class","col-span-2 grid grid-cols-3 gap-6"),l(s,"class","grid grid-cols-3 gap-8"),l(ot,"type","checkbox"),l(ot,"class","svelte-zftrlb"),l(Rt,"class","svelte-zftrlb"),l(Vt,"class","svelte-zftrlb"),l(Nt,"class","svelte-zftrlb"),l(St,"class","svelte-zftrlb"),l(Ot,"class","svelte-zftrlb"),l(Mt,"class","svelte-zftrlb"),l(qt,"class","svelte-zftrlb")},m(a,v){q(a,s,v),e(s,r),e(r,p),e(p,g),e(g,L),e(p,I),e(p,_),e(_,y),O(y,t[9]),e(_,R),e(_,b),e(b,k),e(r,V),e(r,Q),e(Q,U),e(U,oe),e(Q,X),e(Q,J);for(let P=0;P<ue.length;P+=1)ue[P].m(J,null);Jt(J,t[7]),e(r,Ie),e(r,ee),e(ee,A),e(A,Je),e(ee,w),e(ee,Z),e(Z,Y),O(Y,t[1]),e(Z,Me),e(Z,pe),e(pe,de),e(r,at),e(r,j),e(j,te),e(te,Ze),e(j,qe),e(j,H),e(H,F),O(F,t[13].value),e(H,$e),e(H,Ke),e(Ke,K),e(K,he),e(he,rt),e(K,ye),e(ye,Le),Jt(K,t[13].type),e(j,Qe),ce&&ce.m(j,null),e(r,xe),e(r,ie),e(ie,De),e(De,be),e(ie,Ye),e(ie,me),e(me,le),O(le,t[12].value),e(me,Fe),e(me,Ue),e(Ue,$),e($,Te),e(Te,st),e($,ze),e(ze,B),Jt($,t[12].type),e(ie,ae),fe&&fe.m(ie,null),e(r,D),e(r,Pe),e(Pe,N),e(N,re),e(Pe,x),e(Pe,G),e(G,C),O(C,t[11]),e(G,ge),e(G,se),e(se,Be),e(r,it),e(r,nt),e(nt,et),e(et,yt),e(nt,Kt),e(nt,tt),e(tt,Ee),Ee.checked=t[17],e(tt,Qt),e(r,Zl),e(r,ut),e(ut,Tt),e(Tt,$l),e(ut,xl),e(ut,ct),e(ct,Ae),O(Ae,t[12].count),e(ct,ea),e(ct,Ge),O(Ge,t[12].count),e(r,ta),e(r,ft),e(ft,kt),e(kt,la),e(ft,aa),e(ft,_t),e(_t,Re),O(Re,t[8]),e(_t,ra),e(_t,we),O(we,t[8]),e(r,sa),e(r,vt),e(vt,It),e(It,na),e(vt,oa),e(vt,lt),e(lt,Ve),O(Ve,t[12].price_dev),e(lt,ia),e(lt,Ce),O(Ce,t[12].price_dev),e(lt,ua),e(lt,Pt),e(Pt,ca),e(r,fa),e(r,pt),e(pt,Lt),e(Lt,_a),e(pt,va),e(pt,dt),e(dt,Ne),O(Ne,t[12].volume_scale),e(dt,pa),e(dt,We),O(We,t[12].volume_scale),e(r,da),e(r,ht),e(ht,Dt),e(Dt,ha),e(ht,ba),e(ht,bt),e(bt,Se),O(Se,t[12].step_scale),e(bt,ma),e(bt,He),O(He,t[12].step_scale),e(s,ga),e(s,m),e(m,Ea),e(m,ya),e(m,Ta),e(m,ul),e(m,ka),e(m,cl),e(m,Ia),e(m,La),e(m,Da),e(m,fl),e(m,za),e(m,Pa),e(m,Ba),e(m,_l),e(m,Ra),e(m,Va),e(m,Na),e(m,vl),e(m,Sa),e(m,Oa),e(m,Ma),e(m,qa),e(m,Ua),e(m,Aa),e(m,wa),e(m,Ca),e(m,Wa),e(m,pl),e(m,Ha),e(m,ja),e(m,Ja),e(m,dl),e(m,Ka),e(m,Qa),e(m,Ya),e(m,hl),e(m,Fa),e(m,Ga),e(m,Xa),e(m,bl),e(m,Za),e(m,$a),e(m,xa),e(m,ml),e(m,er),e(m,tr),e(m,lr),e(m,gl),e(m,ar),e(m,rr),e(m,sr),e(m,nr),e(m,or),e(m,El),e(m,ir),e(m,ur),e(m,cr),e(m,yl),e(m,fr),q(a,Tl,v),q(a,kl,v),q(a,Il,v),q(a,ot,v),ot.checked=t[10],q(a,Ll,v),q(a,Dl,v),q(a,zl,v),q(a,Pl,v),q(a,Bl,v);for(let P=0;P<_e.length;P+=1)_e[P].m(a,v);q(a,Bt,v),q(a,Rl,v),q(a,Vl,v),q(a,mt,v),e(mt,nl),e(nl,ne),e(ne,Rt),e(Rt,_r),e(ne,vr),e(ne,Vt),e(Vt,pr),e(ne,dr),e(ne,Nt),e(Nt,hr),e(ne,br),e(ne,St),e(St,mr),e(ne,gr),e(ne,Ot),e(Ot,Er),e(ne,yr),e(ne,Mt),e(Mt,Tr),e(ne,kr),e(ne,qt),e(qt,Ir),e(mt,Lr),e(mt,Ut);for(let P=0;P<ve.length;P+=1)ve[P].m(Ut,null);Dr||(Nr=[M(y,"input",t[31]),M(J,"change",t[32]),M(Y,"input",t[33]),M(F,"input",t[34]),M(K,"change",t[35]),M(le,"input",t[36]),M($,"change",t[37]),M(C,"input",t[38]),M(Ee,"change",t[39]),M(Ae,"change",t[40]),M(Ae,"input",t[40]),M(Ge,"input",t[41]),M(Re,"change",t[42]),M(Re,"input",t[42]),M(we,"input",t[43]),M(Ve,"change",t[44]),M(Ve,"input",t[44]),M(Ce,"input",t[45]),M(Ne,"change",t[46]),M(Ne,"input",t[46]),M(We,"input",t[47]),M(Se,"change",t[48]),M(Se,"input",t[48]),M(He,"input",t[49]),M(ot,"change",t[50])],Dr=!0)},p(a,v){var P,zt;if(v[0]&512&&W(y.value)!==a[9]&&O(y,a[9]),v[0]&1){At=a[0];let z;for(z=0;z<At.length;z+=1){const Oe=Ts(a,At,z);ue[z]?ue[z].p(Oe,v):(ue[z]=ks(Oe),ue[z].c(),ue[z].m(J,null))}for(;z<ue.length;z+=1)ue[z].d(1);ue.length=At.length}if(v[0]&129&&Jt(J,a[7]),v[0]&2&&Y.value!==a[1]&&O(Y,a[1]),v[0]&8192&&W(F.value)!==a[13].value&&O(F,a[13].value),v[0]&8192&&Jt(K,a[13].type),a[13].type=="%"?ce?ce.p(a,v):(ce=Is(a),ce.c(),ce.m(j,null)):ce&&(ce.d(1),ce=null),v[0]&4096&&W(le.value)!==a[12].value&&O(le,a[12].value),v[0]&4096&&Jt($,a[12].type),a[12].type=="%"?fe?fe.p(a,v):(fe=Ls(a),fe.c(),fe.m(ie,null)):fe&&(fe.d(1),fe=null),v[0]&2048&&W(C.value)!==a[11]&&O(C,a[11]),v[0]&131072&&(Ee.checked=a[17]),v[0]&4096&&O(Ae,a[12].count),v[0]&4096&&W(Ge.value)!==a[12].count&&O(Ge,a[12].count),v[0]&64&&ol!==(ol=((P=a[6][0])==null?void 0:P.maxLeverage)||20)&&l(Re,"max",ol),v[0]&256&&O(Re,a[8]),v[0]&64&&il!==(il=((zt=a[6][0])==null?void 0:zt.maxLeverage)||20)&&l(we,"max",il),v[0]&256&&W(we.value)!==a[8]&&O(we,a[8]),v[0]&4096&&O(Ve,a[12].price_dev),v[0]&4096&&W(Ce.value)!==a[12].price_dev&&O(Ce,a[12].price_dev),v[0]&4096&&O(Ne,a[12].volume_scale),v[0]&4096&&W(We.value)!==a[12].volume_scale&&O(We,a[12].volume_scale),v[0]&4096&&O(Se,a[12].step_scale),v[0]&4096&&W(He.value)!==a[12].step_scale&&O(He,a[12].step_scale),v[0]&4&&Yt!==(Yt=T(a[2].total_margin)+"")&&S(ul,Yt),v[0]&516&&Ft!==(Ft=T(a[2].total_margin/a[9]*100)+"")&&S(cl,Ft),v[0]&4&&Gt!==(Gt=T(a[2].total_volume)+"")&&S(fl,Gt),v[0]&256&&Xt!==(Xt=T(a[8])+"")&&S(_l,Xt),v[0]&4&&Zt!==(Zt=T(a[2].price_dev)+"")&&S(vl,Zt),v[0]&4&&$t!==($t=T(a[2].total_margin)+"")&&S(pl,$t),v[0]&4&&xt!==(xt=T(-a[2].pnl)+"")&&S(dl,xt),v[0]&516&&el!==(el=T(a[9]-a[2].total_margin+a[2].pnl)+"")&&S(hl,el),v[0]&16384&&tl!==(tl=T(a[14])+"")&&S(bl,tl),v[0]&16386&&ll!==(ll=-T(100-a[14]/a[1]*100)+"")&&S(ml,ll),v[0]&16390&&al!==(al=-T(100-a[14]/a[1]*100+a[2].price_dev)+"")&&S(gl,al),v[0]&16&&rl!==(rl=T(a[4])+"")&&S(El,rl),v[0]&32&&sl!==(sl=T(a[5])+"")&&S(yl,sl),v[0]&1024&&(ot.checked=a[10]),v[0]&98304){wt=a[15]?[a[16]||a[15]]:[];let z;for(z=0;z<wt.length;z+=1){const Oe=Es(a,wt,z);_e[z]?_e[z].p(Oe,v):(_e[z]=zs(Oe),_e[z].c(),_e[z].m(Bt.parentNode,Bt))}for(;z<_e.length;z+=1)_e[z].d(1);_e.length=wt.length}if(v[0]&33620026){Ct=a[3];let z;for(z=0;z<Ct.length;z+=1){const Oe=gs(a,Ct,z);ve[z]?ve[z].p(Oe,v):(ve[z]=Ps(Oe),ve[z].c(),ve[z].m(Ut,null))}for(;z<ve.length;z+=1)ve[z].d(1);ve.length=Ct.length}},i:ms,o:ms,d(a){a&&c(s),Xl(ue,a),ce&&ce.d(),fe&&fe.d(),a&&c(Tl),a&&c(kl),a&&c(Il),a&&c(ot),a&&c(Ll),a&&c(Dl),a&&c(zl),a&&c(Pl),a&&c(Bl),Xl(_e,a),a&&c(Bt),a&&c(Rl),a&&c(Vl),a&&c(mt),Xl(ve,a),Dr=!1,bs(Nr)}}}async function Qs({fetch:t}){return{props:{prices:(await t("https://fapi.binance.com/fapi/v1/ticker/price").then(r=>r.json())).filter(r=>r.symbol.endsWith("USDT"))}}}let je="USDT",Bs=1;function T(t){return t.toLocaleString(void 0,{maximumSignificantDigits:5})}function Rs(t,s){let r=t/s,p=Math.ceil(r/Bs)*Bs;return t*=p/r,[p,t]}function Vs(t,s,r){if(t<0||t>1||t!=0&&!t)return"";const p=r.findIndex(b=>t<=b.perc)||1,g=r[p-1],L=r[p],I=(t-g.perc)/(L.perc-g.perc),_=1-I,y=I,R={r:Math.floor(g.color.r*_+L.color.r*y),g:Math.floor(g.color.g*_+L.color.g*y),b:Math.floor(g.color.b*_+L.color.b*y)};return"rgba("+[R.r,R.g,R.b,s].join(",")+")"}function js(t,s,r){let p,g,L,I,_,y,R,b,k,V,Q,{prices:U}=s,{brackets:oe}=s,X=1;const J=Et("3c.balance",1e4);gt(t,J,B=>r(9,y=B));const Ie=Et("3c.coin","BTCUSDT");gt(t,Ie,B=>r(7,I=B));const ee=Et("3c.base_order",{value:10,type:"%"});gt(t,ee,B=>r(13,V=B));const A=Et("3c.safety_order",{count:15,value:5,type:"%",price_dev:.99,volume_scale:1.3,step_scale:1});gt(t,A,B=>r(12,k=B));const Je=Et("3c.take_profit",.6);gt(t,Je,B=>r(11,b=B));const w=Et("3c.leverage",20);gt(t,w,B=>r(8,_=B));const Z=Et("3c.long",!0);gt(t,Z,B=>r(17,Q=B));const Y=Et("3c.reverse",!0);gt(t,Y,B=>r(10,R=B));let Me,pe,de=[],at=[{perc:0,color:{r:0,g:255,b:0}},{perc:.5,color:{r:0,g:255,b:255}},{perc:1,color:{r:0,g:0,b:255}}],j=b,te=b,Ze,qe="";Ws("3c.brackets-cache",24*60*60,()=>fetch("https://cors.bridged.cc/https://www.binance.com/bapi/futures/v1/friendly/future/common/brackets",{headers:{"content-type":"application/json"},body:"{}",method:"POST"}).then(B=>B.json())).then(B=>{r(27,oe=B.data.brackets.map(ae=>({symbol:ae.symbol,brackets:ae.riskBrackets.map(D=>({volume_cap:D.bracketNotionalCap,minLeverage:D.minOpenPosLeverage,maxLeverage:D.maxOpenPosLeverage}))})))});let H;function F(){y=W(this.value),J.set(y)}function $e(){I=Vr(this),Ie.set(I),r(0,U)}function Ke(){X=this.value,r(1,X),r(7,I),r(28,qe),r(0,U)}function K(){V.value=W(this.value),ee.set(V)}function he(){V.type=Vr(this),ee.set(V)}function rt(){k.value=W(this.value),A.set(k)}function ye(){k.type=Vr(this),A.set(k)}function Le(){b=W(this.value),Je.set(b)}function Qe(){Q=this.checked,Z.set(Q)}function xe(){k.count=W(this.value),A.set(k)}function ie(){k.count=W(this.value),A.set(k)}function De(){_=W(this.value),w.set(_)}function be(){_=W(this.value),w.set(_)}function Ye(){k.price_dev=W(this.value),A.set(k)}function me(){k.price_dev=W(this.value),A.set(k)}function le(){k.volume_scale=W(this.value),A.set(k)}function Fe(){k.volume_scale=W(this.value),A.set(k)}function Ue(){k.step_scale=W(this.value),A.set(k)}function $(){k.step_scale=W(this.value),A.set(k)}function Te(){R=this.checked,Y.set(R)}const st=B=>r(16,H=B.errors.length>0?B:void 0),ze=()=>r(16,H=void 0);return t.$$set=B=>{"prices"in B&&r(0,U=B.prices),"brackets"in B&&r(27,oe=B.brackets)},t.$$.update=()=>{var B,ae,D,Pe;if(t.$$.dirty[0]&134217856&&r(6,g=((B=oe==null?void 0:oe.find(N=>N.symbol==I))==null?void 0:B.brackets)||[]),t.$$.dirty[0]&320&&_>((ae=g[0])==null?void 0:ae.maxLeverage)&&Cs(w,_=(D=g[0])==null?void 0:D.maxLeverage,_),t.$$.dirty[0]&320&&r(29,L=g==null?void 0:g.find(N=>N.minLeverage<=_&&_<=N.maxLeverage)),t.$$.dirty[0]&536871424&&r(30,p=N=>{let re=[];return N.total_margin>y&&re.push(`Total margin used (${T(N.total_margin)}$) is more than available balance (${T(y)}$)`),-N.pnl>y&&re.push(`PnL (${T(N.pnl)}$) is higher than available balance (${T(y)}$). Will be liquidated`),N.total_volume>(L==null?void 0:L.volume_cap)&&re.push(`Total volume (${T(N.total_volume)}$) is higher than future volume cap (${T(L==null?void 0:L.volume_cap)}$)`),re}),t.$$.dirty[0]&268435585&&I!=qe&&(r(28,qe=I),r(1,X=((Pe=U==null?void 0:U.find(N=>N.symbol==I))==null?void 0:Pe.price)||1)),t.$$.dirty[0]&1073758014){let N=V.value;V.type=="%"&&(N=y*V.value/100);let re=k.value;k.type=="%"&&(re=y*k.value/100);let x=[],G=0,C=X,[ge,se]=Rs(N,X);x.push({order:"BO",price_dev:0,price:X,avg_price:C,size:ge,margin:se/_,volume:N,req_price:X*(1+b/100),req_change:b,pnl:0,tp:se*b/100,total_size:ge,total_volume:se,total_margin:se/_}),r(4,j=b),r(5,te=b);for(let Be=0;Be<k.count;Be++){G=G*k.step_scale-k.price_dev;const it=X*(1+G/100),nt=re*Math.pow(k.volume_scale,Be),[et,yt]=Rs(nt,it);se+=yt,ge+=et,C=se/ge;const Kt=se/_,tt=C*(1+b/100),Ee=(tt/it-1)*100,Qt=-(1-it/C)*se;Ee<j&&r(4,j=Ee),Ee>te&&r(5,te=Ee),x.push({order:`#${Be+1}`,price_dev:G,price:it,avg_price:C,size:et,margin:yt/_,volume:yt,req_price:tt,req_change:Ee,tp:se*b/100,pnl:Qt,total_size:ge,total_volume:se,total_margin:Kt})}x=x.map(Be=>vs(_s({},Be),{errors:p(Be)})),r(15,Ze=x.find(Be=>Be.errors.length>0)),r(3,de=x),r(2,Me=de[de.length-1]),R&&r(3,de=de.reverse()),r(14,pe=Me.avg_price*(1-y/Me.total_volume))}},[U,X,Me,de,j,te,g,I,_,y,R,b,k,V,pe,Ze,H,Q,J,ee,A,Je,w,Z,Y,at,Ie,oe,qe,L,p,F,$e,Ke,K,he,rt,ye,Le,Qe,xe,ie,De,be,Ye,me,le,Fe,Ue,$,Te,st,ze]}class Ys extends Us{constructor(s){super();As(this,s,js,Hs,ws,{prices:0,brackets:27},null,[-1,-1,-1])}}export{Ys as default,Qs as load};
